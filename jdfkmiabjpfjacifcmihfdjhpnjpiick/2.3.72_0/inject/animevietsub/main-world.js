(async()=>{var t=document.querySelector("[savior-decode-needed]"),e=t?.getAttribute("savior-decode-needed");try{var r=JSON.parse(e),a=(await Promise.allSettled(r.link.map(e=>e?.file.includes(".mp4")?Promise.resolve({type:"link",data:e.file}):async function(e,t="ZG1fdGhhbmdfc3VjX3ZhdF9nZXRfbGlua19hbl9kYnQ="){try{var r=window.crypto,a=await r.subtle.digest("SHA-256",(new TextEncoder).encode(atob(t))),i=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),n=i.slice(0,16),d=i.slice(16),o={name:"AES-CBC",iv:n},c=await r.subtle.importKey("raw",a,o,!1,["decrypt"]),l=await r.subtle.decrypt(o,c,d),s=window.pako.inflateRaw(new Uint8Array(l),{to:"string"});return JSON.parse(s)}catch(e){return console.warn("Error decrypting data:",e),null}}(e.file).then(e=>({type:"m3u8-content",data:e.replace(/#EXT-X-BYTERANGE:.*\n/g,"")}))))).filter(e=>"fulfilled"==e.status).map(e=>e.value);t.setAttribute("savior-decoded-content",JSON.stringify(a))}catch(e){t.setAttribute("savior-decoded-content",JSON.stringify([]))}finally{t.removeAttribute("savior-decode-needed")}})();