!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=435)}({0:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"query",(function(){return l})),n.d(e,"queryAll",(function(){return c})),n.d(e,"findParent",(function(){return d})),n.d(e,"nearestParent",(function(){return h})),n.d(e,"getNodePropOrEmptyString",(function(){return p})),n.d(e,"stripTagsExcept",(function(){return _})),n.d(e,"toArray",(function(){return v})),n.d(e,"unique",(function(){return m})),n.d(e,"isMatches",(function(){return f})),n.d(e,"getYoutubeInfo",(function(){return g})),n.d(e,"getYoutubeDashMPDInfo",(function(){return y})),n.d(e,"send",(function(){return E})),n.d(e,"get",(function(){return b})),n.d(e,"_getSize",(function(){return O})),n.d(e,"getSize",(function(){return T})),n.d(e,"logDownloadError",(function(){return L})),n.d(e,"beautifyFileSize",(function(){return w})),n.d(e,"detectMediaTypeAndExt",(function(){return S})),n.d(e,"getFileNameFromContentDisposition",(function(){return I})),n.d(e,"getMediaType",(function(){return A})),n.d(e,"getProp",(function(){return C})),n.d(e,"call",(function(){return D})),n.d(e,"defined",(function(){return N})),n.d(e,"debounce",(function(){return P})),n.d(e,"flatten",(function(){return k})),n.d(e,"generateId",(function(){return R})),n.d(e,"sendMessage",(function(){return Y})),n.d(e,"isSpecialUrls",(function(){return q})),n.d(e,"getFilenameFromTitleOfDownload",(function(){return H})),n.d(e,"getVideoId",(function(){return M})),n.d(e,"isValidData",(function(){return j})),n.d(e,"getBestFitResolution",(function(){return B})),n.d(e,"createMP3Resources",(function(){return V})),n.d(e,"splitMediaByTitle",(function(){return z})),n.d(e,"i18n",(function(){return F})),n.d(e,"isSameMedia",(function(){return G})),n.d(e,"isTikTok",(function(){return W})),n.d(e,"cleanSymbols",(function(){return K})),n.d(e,"fetchWithTimeout",(function(){return X})),n.d(e,"sleep",(function(){return $})),n.d(e,"beDefinedOr",(function(){return Z})),n.d(e,"mergeArray",(function(){return J})),n.d(e,"Storage",(function(){return tt})),n.d(e,"nextTick",(function(){return et})),n.d(e,"jwtDecode",(function(){return nt})),n.d(e,"formatDomain",(function(){return it})),n.d(e,"paddZero",(function(){return rt})),n.d(e,"transformVersionToNumber",(function(){return ot})),n.d(e,"getDateNumber",(function(){return at})),n.d(e,"useDebounce",(function(){return st})),n.d(e,"checkSameDate",(function(){return ut})),n.d(e,"checkDateInRow",(function(){return lt})),n.d(e,"checkIsDarkMode",(function(){return ct})),n.d(e,"devLog",(function(){return dt}));var i=n(1),r=n(6),o=n(4),a=n(3);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new S(r||[]);return i(a,"_invoke",{value:O(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function p(){}function _(){}function v(){}var m={};l(m,o,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(I([])));g&&g!==e&&n.call(g,o)&&(m=g);var y=v.prototype=p.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;i(this,"_invoke",{value:function(i,o){function a(){return new e((function(r,a){!function i(r,o,a,s){var u=d(t[r],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function O(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=d(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function T(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=d(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return _.prototype=v,i(y,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:_,configurable:!0}),_.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},E(b.prototype),l(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new b(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(y),l(y,u,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var u=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))};function l(t,e){return(e=e||document).querySelector(t)}function c(t,e){var n,i;return v(null!==(i=null===(n=(e=e||document).querySelectorAll)||void 0===n?void 0:n.call(e,t))&&void 0!==i?i:[])}function d(t,e){for(;null!==t&&t.classList&&!t.classList.contains(e);)t=t.parentNode;return t}function h(t,e){for(var n,i=null===(n=document.body.parentNode)||void 0===n?void 0:n.parentNode,r=t;null!=r&&r!=i&&!r.matches(e);)r=r.parentElement;return i==r?null:r}function p(t,e){return t&&t[e]||""}function _(t){return t.replace(/<(?!\/?(?:b|em))[^>]+>/g,"")}function v(t){return Array.prototype.slice.call(t)}function m(t){return Array.from(new Set(t))}function f(t,e){var n,i,r;if(Array.isArray(t)){for(n=0;n<t.length;++n)if(f(t[n],e))return!0;return!1}for(n=0,i=(e=Array.isArray(e)?e:[e]).length;n<i;++n)if("string"==typeof(r=e[n])&&-1!==t.indexOf(r)||r instanceof RegExp&&t.match(r))return!0;return!1}function g(t){return u(this,void 0,void 0,s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{EE.emit("message.background.send",{type:"youtube_get_info",data:{method:"GET",url:t}}),EE.on("youtube_get_info_result",n=>{n.data.url===t&&e(n.data)})}));case 1:case"end":return e.stop()}}),e)})))}function y(t){return u(this,void 0,void 0,s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{EE.emit("message.background.send",{type:"youtube_get_mpd_info",data:{url:t,method:"GET"}}),EE.on("youtube_set_mpd_info",t=>{var n,i;t&&"resolve"===(null===(n=t.data)||void 0===n?void 0:n.success)&&e(null===(i=t.data)||void 0===i?void 0:i.response)})}));case 1:case"end":return e.stop()}}),e)})))}function E(e,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"FormData";function u(t){return[/www\.facebook\.com\/video\/tahoe\/async\/\d+\/\?originalmediaid=\d.+&payloadtype=primary/,/vnecdn\.net/,/vnecdn\.net\/vnexpress\/video\/.+master.m3u8$/,/.smamuhh1metro/,/gpt[0-9]+\.phimmoi\.net/,/vtvgiaitri\.vn/,/hydra/,/www\.facebook\.com\/api\/graphql/,/www.facebook.com\/video\/tahoe\/async/,/www\.nhaccuatui\.com\/flash\/xml\?key3/,/content-aapm1\.uplynk\.com/,/master2-eu\.playerx\.stream/,/i\.instagram\.com\/api\/v1\/media/,/s\d+\.imacdn\.com/,/ok\d+-\d+\.vkuser\.net/,/vd\d+\.mycdn\.me/,/cdn\.javhd\..+\/stream\/.+\.m3u8/,/search-api.artlist.io\/v2\/graphql/i].some(e=>t.match(e))}if(t.IS_CONTENT_SCRIPT&&!u(n)){var l="background_request."+R();return EE.emit("message.background.send",{type:i.a.FETCH,data:{id:l,method:e,url:n,params:r,headers:o,includeCredentials:a,paramType:s}}),new Promise((t,e)=>{EE.on("background_request_result",n=>{var i=n.data;i.id===l&&("resolve"===i.success?t(i.response):e(i.response))})})}var c=null,d=new Headers;if("object"==typeof o)for(var h in o)location.href.includes("nhaccuatui.com/video/")&&"X-Savior-Replace-Cookie"==h||d.append(h,o[h]);"object"==typeof r&&("FormData"===s?(c=Object.keys(r).map(t=>t+"="+r[t]).join("&"),location.host.includes("facebook")&&(c=Object.keys(r).map(t=>`${t}=${encodeURIComponent(r[t])}`).join("&"))):c=JSON.stringify(r)),"POST"===e&&("FormData"===s?d.append("Content-type","application/x-www-form-urlencoded"):d.append("Content-type","application/json"));var p={method:e,headers:d,cache:"reload",body:c||void 0};return a&&(p.credentials="include"),fetch(n,p).then(t=>t.text().then(e=>({status:t.status,statusText:t.statusText,ok:t.ok,redirected:t.redirected,url:t.url,type:t.type,bodyUsed:t.bodyUsed,body:t.body,headers:t.headers,responseText:e})))}function b(t,e){return E("GET",t,{},e)}function O(t){var e,n=new XMLHttpRequest;return t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";if("//"===t.slice(0,2))return e+":"+t;return t}(t),new Promise((i,r)=>{function o(t){t?i(t):r(t),n.abort(),clearTimeout(e),e=void 0}n.open("GET",t),n.onreadystatechange=function(){if(!(this.readyState<2)){var t=null;try{t=+(this.getResponseHeader("Content-Length")||""),Number.isNaN(t)&&(t=null)}catch(t){}null===t&&200!==this.status||(200!==this.status&&(t=null),o(t))}},n.send(null),e=setTimeout(o,1e4)})}function T(t){return new Promise(e=>{var n=R(),i=t+"_size";function r(r,o){r==n&&(o?e(o):O(t).then(t=>{e(t),EE.emit("media-provider.cache.put",R(),i,t)}).catch(()=>{L({url:JSON.stringify(t),referrer:document.referrer||location.host||JSON.stringify(t),error:"Error: Cannot get media size or media url is wrong"}),e(null),EE.emit("media-provider.cache.put",R(),i,null)}))}EE.emit("media-provider.cache.get",n,i),EE.on("media-provider.cache.hit",r),EE.on("media-provider.cache.miss",r)})}function L(t){o.a.log("recordCustomData",[{key:"savior_download_error",value:JSON.stringify(t)}])}function w(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=["B","KB","MB","GB","TB","PB"],i=-1!==window.navigator.appVersion.indexOf("Win")?1024:1e3;if(!t)return"";var r,o=i;for(r=0;r<n.length&&t>=o;++r)t/=o;var a=n[r],s=Math.round(10*t)/10;return e&&a&&"kb"===a.toLowerCase()&&(s=s.toFixed(0)),s+n[r]}function S(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/x-mpegurl","audio/mpegurl"];if(-1!==o.indexOf(n))return t.type="video",t.ext="m3u8",t;var s=["application/dash+xml"];if(-1!==s.indexOf(n))return t.type="video",t.ext="mpd",t;var u=A(n,t.exts||[]);if(u&&i.o[u]){t.type=u;var l=n.match(/mp4|webm/g);t.exts&&0!==t.exts.length||!l||!l[0]||(t.ext=l[0])}var c=Object(a.d)(n),d=c.ext;if(t.ext||(t.ext=d),q(t.url)&&(t.ext="m3u8",t.exts=["m3u8"]),"application/octet-stream"==n){var h=(null===(e=I(r))||void 0===e?void 0:e.split("."))||[];if(h&&h.length){var p=h.shift(),_=h;p&&(t.filename=p),_&&_.length&&(t.exts=_,d=_[_.length-1],t.ext=d,"mp4"==d&&(t.type="video"))}}return"mp4"==d&&(t.ext="mp4"),t}function I(t){var e;return null===(e=t.match(/filename=["']([^"']+)["']/i))||void 0===e?void 0:e[1]}function A(t,e){var n;for(var r in i.o){if(n=i.o[r],t&&t.match(n.rgxp))return r;if(Array.isArray(e)&&x(e,n.extensions)||-1!==n.extensions.indexOf(e))return r}return null}function x(t,e){for(var n=t.concat(e),i={},r=0;r<n.length;++r){var o=n[r];if(i[o])return o;i[o]=!0}return null}function C(t,e){return function t(e,n){var i=n.shift();return!i||"object"!=typeof e&&"function"!=typeof e||null===e?null:0===n.length?e[i]:t(e[i],n)}(t,e.split("."))}function D(t,e){if(t&&!(t.length<=0))for(var n=[].slice.call(arguments,2),i=0;i<t.length;i++)t[i].apply(e,n)}function N(t){return void 0!==t}function P(t,e,n){var i,r=!1;function o(){if(!r){var o=this,a=arguments;i?clearTimeout(i):n&&t.apply(o,a),i=setTimeout(s,e||100)}function s(){n||t.apply(o,a),i=void 0}}return o.destroy=()=>{clearTimeout(i),r=!0},o}function k(t,e){var n,i=Object.prototype.toString,r=[],o=e&&t||t.slice();if(!t.length)return r;n=o.pop();do{"[object Array]"===i.call(n)?o.push.apply(o,n.filter(t=>!!t)):r.push(n)}while(o.length&&void 0!==(n=o.pop()));return r.reverse(),r}var U,Q=0;function R(){return Q++}function Y(t){return new Promise(e=>{var n=t.type+"_"+R();t.id=n,EE.emit("message.background.send",t),EE.on("utils.send_message_result",t=>{t.id===n&&e(t.data)})})}function q(t){if(t&&"object"!=typeof t){return[/(http|https):\/\/[\s\S]*(streamasia\.|\.bongngo\.|\.manga123\.net)[\s\S]*\/playlist\/|stream\.vltv\.xyz\/m3u8\/|apix\.gooqlevideo\.com\/player|khophim18\.net\/m3u8|iamplayer\.xyz\/stream.*\/Manifest/g,/hls\.mediacdn\.vn\/.+\/\S+\.mp4\.json/gi,/hls\.(tuoitre)\.vn\/\1\/\S+\.mp4\.json/gi,/vdrm\.vtvgiaitri\.vn\/stream/,/api(-v[0-9]*)*\.soundcloud\.com\/media\/soundcloud:tracks:[0-9]+/gi,/https:\/\/zingmp3\.vn\/api\/v2\/.+\?id=/,/^\/sequence\/(play|full)\/([a-z0-9]+)/i,/\/video\/(\d+)\/config(\?|$)/i,/key[0-9]=[0-9a-f]{32}/i,/^\/(api|get)_video_info/,/\.mp4.+?\.ts\?nimblesessionid=/,/meo\.saku\.net\/player/,/get\.gooqlevideo\.com\/player/,/streamsb\.biz\/playlist\/json\/[a-z0-9]+\/[a-z0-9]+/i,/discordapp\.com\/attachments\/\d+\/\d+\/[a-z0-9_\- ]+\.mp4/,/vidsugar\.com\/.+api\.json/i,/\-hls.*\.cuoiia\.top\/(cdn|media|hls)/,/vkvd\d*\.mycdn\.me/,/vk[a-z0-9\-]+\.vkuser\.net/i,/v\.douyu\.com\/api\/stream\/getStreamUrl/,/api\-.+\.(play|plhq)[\s\S]*\.(xyz|net|site|click|cfd|com)\/api\/.+(playiframe|getblob)/,/ssplay\.net\/[a-z0-9]{2,4}\/(\d+\/(\d+)\/[a-z0-9]+\/[a-z0-9]+|[a-z\d]+\/[a-z\d]+)/i,/\.helurl\.com\/uploads\/.+filename/i,/((smutr\.com)|(cdnka\.net))\/remote_control\.php?.+&file=.+\.(mp4|m3u8)/i,/\.video-delivery\.net/i,/\.asiaplayer\.site\/m3u8\/.+\/[a-z0-9]+\/master\.txt/i,/.+\.play[\s\S]*(xyz|net)\/(m3u8|hls)/i,/.+\.plhqtv[\s\S]*(xyz|net)\/(type1rdv3)/i,/v[0-9]*\.sanstream\.xyz\/video\/.*\/master.html\?.*/i,/cdn.+\/segment.+\/?token.+/i,/helvid\.([a-z0-9]+)\/hash.php\?.+/i,/southeastasia1-mediap.svc.ms\/.+\/videomanifest/i,/cdn\.animevui\.[a-z]+\/file/i,/\.xyz\/cdn\/hls\/.+\/master\.txt/i,/hls\.streamcdn\.[a-z]+\/m3u8\//i,/\.streamc\.xyz\/get[a-z0-9]*\.php\?hash=/i,/\.streamc\.xyz\/getPlaylist\.php+/i,/intl-api.iq.com.+\/cache\-video\.iq\.com\/dash\?.+/i,/api\.bilibili\.com\/.+\/wbi\/playurl/i,/cdn\/hls\/[a-z0-9\-_]+\/master\.txt/i,/stream12345\.online\/video\/[a-z0-9\-_]+\/master\.html/i,/content\.vdcdn\.top\/stream\/master\.php/i,/([a-z0-9\-_]+\.)?cliphub\.[a-z0-9\.\-]+\/videos/i,/https:\/\/hls\.fasthls\.top\/media\/.+/i,/eporner\.com\/xhr\/video\/.+\?hash\=.+/i,/phimlongtieng\.net\/pmm\/[a-z0-9]+\.html/i,/video\.twimg\.com\/.+video\/(\d+)(\/pu)?\/pl\/[a-z0-9\-_]+\.m3u8/i,/syntheticvideo\..+\/sources\?videoId/i,/goplayer\.xyz\/video\/[a-z0-9\-_]+\/(master|playlist)\./i,/m3u8\.cloustream\.net/i].some(e=>e.test(t))}}function H(t){var e=t.title||t.filename||document.title;"subtitles"==t.type&&(e=e+" ("+(t.i18n_quality||t.quality)+")");var n="."+t.ext;return e=(e=(null==e?void 0:e.replace(/\s+/g," ").replace(/[/\\:*?"<>|\u200c\u200d]/g,"-"))+n).match(/[*~]/gi)?"_"+e.replace(/[*~]/gi,"."):e}function M(t){var e;if(!t)return null;for(var n,i=[/^https?:\/\/(?:www\.)?youtube(?:-nocookie)?(?:\.googleapis)?\.com\/(?:(?:v)|(?:embed)|(?:e))\/(?!videoseries)([^&?]+)/i,/https?:\/\/(?:www\.)?youtu\.be\/([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/.*(?:\?|&)v=([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/shorts\/(.*)$/,/^https?:\/\/music\.youtube\.com\/watch\?v=([^#&?]+)/,/^https?:\/\/m\.youtube\.com\/watch\?v=([^#&?]+)/,/youtube.*.com\/embed\/([a-z0-9\-_]+)/i,/^https?:\/\/(?:www\.)?youtube\.com\/live\/([^#&?]+)/],r=0;r<i.length;++r)if(n=t.match(i[r]))return n[1];if(t.match(/youtube\.com\/embed\/videoseries/i)&&(null===(e=document.querySelector('link[rel="canonical"]'))||void 0===e?void 0:e.href))return M(t);return null}function j(t){if(r.a.M3U8&&Object(i.C)(t.ext))return!0;var e=t.type;if(!e)return!1;var n=i.o[e],o=n&&n.extensions;return n&&-1!==o.indexOf(t.ext)}function B(t){for(var e=0,n=i.u.length;e<n&&i.u[e]>=t;)e++;return i.u[e-1]}function V(t){var e=t.filter((function(t){return"video"===t.type&&!(!r.a.DOWNLOAD.M3U8_AUDIO&&["m3u","m3u8"].includes(t.ext))&&("object"==typeof t.url&&t.url.audioUrl||"string"==typeof t.url)})),n=[{bitrate:"128kbps",name:"Medium",qualityValue:100,itag:"140"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"22"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"37"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"38"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"45"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"46"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"84"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"85"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"101"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"102"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"172"}],i="www.youtube.com"===location.host?n:[n[0]],o=[];return e.length?(z(e).forEach((function(t){var e=t.media,r=i.map((function(t){var i=function(t,e){e=e.toLowerCase();var n=[...t],i=t.filter((function(t){return"mp4"===t.ext}));i.length&&(n=i);var r=n.filter((function(t){return t.quality&&"full hd"===t.quality.toLowerCase()})),o=n.filter((function(t){return t.quality&&"hd"===t.quality.toLowerCase()})),a=n.filter((function(t){return t.quality&&["normal","medium","standard"].includes(t.quality.toLowerCase())}));switch(e){case"high":r.length?n=r:o.length?n=o:a.length&&(n=a);break;case"medium":default:a.length?n=a:o.length?n=o:r.length&&(n=r)}var s=n.filter((function(t){return"object"==typeof t.url&&t.url.audioUrl}));s.length&&(n=s);return n[0]}(e,t.name),r=Object.assign({},i);if(r.useConverter=!0,"object"==typeof r.url&&(r.url=r.url.audioUrl,delete r.useConverter),["m3u8","m3u"].includes(r.ext)&&(r._hls=!0,delete r._isDashMPD),r.ext="mp3",r.soundOnly=!0,r.quality=t.name,r.resolution=t.bitrate,r.type="audio",r.sortValues={qualityValue:t.qualityValue},"www.youtube.com"===location.host){var o=new URLSearchParams(r.url).get("itag"),a=n.find(t=>t.itag===o)||n[0];r.resolution!==a.bitrate&&r.quality!==a.name&&(r.resolution="0kbps")}return r}));r=r.reduce((t,e)=>(t.some(t=>parseInt(t.resolution)>=parseInt(e.resolution))||(t=[]).push(e),t),[]),o=o.concat(r)})),o):o}function z(t){var e=[];return t.forEach(t=>{t.title||(t.title=t.filename);var n=t.title||t.filename,i=e.find(t=>t.title===n||t.filename===n);i?i.media.push(t):e.push({media:[t],title:n})}),e}try{U=chrome.i18n.getMessage||(()=>"")}catch(t){U=()=>""}var F=U,G=(t,e)=>t.type===e.type&&("string"!=typeof t.url&&"string"!=typeof e.url?t.url.videoUrl==e.url.videoUrl:t.url===e.url),W=e=>{var n;return(e=null!==(n=null!=e?e:t.tab_url)&&void 0!==n?n:window.location.href).match(/^https:\/\/(www\.)?tiktok\.com/)},K=t=>t?t.replaceAll(/[^aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ0-9\s\,\.\<\>\/\?\;\:\'\"\!\@\#\$\%\^\&\*\(\)\-\_\+\=\\\|]/g,"").replaceAll(/\s+/g," "):t,X=(t,e,n)=>{var i=e.timeout;return delete e.timeout,i?(n=null!=n?n:new AbortController,setTimeout(()=>n.abort(),i),fetch(t,Object.assign({signal:n.signal},e))):fetch(t,e)},$=t=>new Promise(e=>setTimeout(e,t));function Z(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return e}}function J(t,e,n){return e.forEach(e=>{("function"==typeof n&&n(e,t)||t.includes(e))&&t.push(e)}),t}class tt{static get(t){return new Promise(e=>{chrome.storage.local.get(t,t=>{e(t)})})}}function et(t){"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,20)}function nt(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}function it(t){return t.trim().replace("www.","").replace(/^https?:\/\//i,"")}function rt(t){try{return t<=9?"0"+t:""+t}catch(t){return"00"}}function ot(t){var e=t.split(".");return Number(e.map(t=>rt(Number(t))).join(""))}function at(t){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate();return parseInt(`${e}${rt(n)}${rt(i)}`)}function st(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(i){clearTimeout(e),e=setTimeout(()=>{t(i)},n)}}function ut(t){var e=new Date(t),n=new Date(Date.now());return e.getDate()==n.getDate()&&e.getMonth()==n.getMonth()&&e.getFullYear()==n.getFullYear()}function lt(t){var e=ut(t),n=(new Date(Date.now()).setHours(0,0,0,0)-new Date(t).setHours(0,0,0,0))/86400/1e3==1;return!e&&n}function ct(){var t,e;return!!(null===(e=null===(t=null===window||void 0===window?void 0:window.matchMedia)||void 0===t?void 0:t.call(window,"(prefers-color-scheme: dark)"))||void 0===e?void 0:e.matches)}function dt(){0}}.call(this,n(9))},1:function(t,e,n){"use strict";n.d(e,"o",(function(){return i})),n.d(e,"v",(function(){return r})),n.d(e,"w",(function(){return o})),n.d(e,"C",(function(){return a})),n.d(e,"u",(function(){return s})),n.d(e,"p",(function(){return u})),n.d(e,"t",(function(){return l})),n.d(e,"l",(function(){return c})),n.d(e,"s",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"x",(function(){return p})),n.d(e,"r",(function(){return _})),n.d(e,"i",(function(){return v})),n.d(e,"c",(function(){return m})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return g})),n.d(e,"A",(function(){return y})),n.d(e,"m",(function(){return E})),n.d(e,"h",(function(){return b})),n.d(e,"g",(function(){return O})),n.d(e,"B",(function(){return T})),n.d(e,"y",(function(){return L})),n.d(e,"z",(function(){return w})),n.d(e,"a",(function(){return S})),n.d(e,"n",(function(){return I})),n.d(e,"q",(function(){return A})),n.d(e,"e",(function(){return x})),n.d(e,"d",(function(){return C})),n.d(e,"f",(function(){return D}));var i={audio:{title:"Audio",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.34701 16.1464C3.91819 16.7176 4.60481 17.0032 5.40688 17.0032C6.20895 17.0032 6.89558 16.7176 7.46676 16.1464C8.03792 15.5752 8.3235 14.8886 8.3235 14.0865V5.72114H16.2603V11.7404C16.0263 11.5502 15.7699 11.4076 15.491 11.3125C15.2122 11.2174 14.913 11.1699 14.5936 11.1699C13.7915 11.1699 13.1049 11.4555 12.5337 12.0267C11.9625 12.5978 11.6769 13.2845 11.6769 14.0865C11.6769 14.8886 11.9625 15.5752 12.5337 16.1464C13.1049 16.7176 13.7915 17.0032 14.5936 17.0032C15.3957 17.0032 16.0823 16.7176 16.6535 16.1464C17.2246 15.5752 17.5102 14.8886 17.5102 14.0865V5.72114V2.99683H16.6768H16.2603H7.07355V11.7404C6.83957 11.5502 6.58316 11.4076 6.30432 11.3125C6.02547 11.2174 5.72632 11.1699 5.40688 11.1699C4.60481 11.1699 3.91819 11.4555 3.34701 12.0267C2.77582 12.5978 2.49023 13.2845 2.49023 14.0865C2.49023 14.8886 2.77582 15.5752 3.34701 16.1464Z" fill="currentColor"/>\n</svg>\n',rgxp:/audio/i,extensions:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],extensions_weight:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],ctype2extension:{midi:"mid",mp4:"m4a",m4a:"m4a",mpeg:"mp3",mpeg3:"mp3",wav:"wav",aiff:"aif",opus:"opus"}},video:{title:"Video",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.79009 16.25C3.36914 16.25 3.01284 16.1041 2.72117 15.8125C2.42952 15.5208 2.28369 15.1645 2.28369 14.7435V5.25642C2.28369 4.83547 2.42952 4.47917 2.72117 4.1875C3.01284 3.89583 3.36914 3.75 3.79009 3.75H13.2772C13.6982 3.75 14.0545 3.89583 14.3461 4.1875C14.6378 4.47917 14.7836 4.83547 14.7836 5.25642V9.07052L17.7163 6.13785V13.8621L14.7836 10.9294V14.7435C14.7836 15.1645 14.6378 15.5208 14.3461 15.8125C14.0545 16.1041 13.6982 16.25 13.2772 16.25H3.79009ZM3.79009 15H13.2772C13.352 15 13.4135 14.9759 13.4615 14.9279C13.5096 14.8798 13.5337 14.8183 13.5337 14.7435V5.25642C13.5337 5.18162 13.5096 5.12019 13.4615 5.0721C13.4135 5.02402 13.352 4.99998 13.2772 4.99998H3.79009C3.7153 4.99998 3.65386 5.02402 3.60577 5.0721C3.55769 5.12019 3.53365 5.18162 3.53365 5.25642V14.7435C3.53365 14.8183 3.55769 14.8798 3.60577 14.9279C3.65386 14.9759 3.7153 15 3.79009 15Z" fill="currentColor"/>\n</svg>\n',rgxp:/video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},no_watermark_video:{title:"No watermark video",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M21.53 7.15C21.378 7.06223 21.2055 7.01603 21.03 7.01603C20.8545 7.01603 20.682 7.06223 20.53 7.15L17 8.89C16.9715 8.11357 16.6429 7.37847 16.0834 6.83944C15.5238 6.3004 14.777 5.99948 14 6H5C4.20435 6 3.44129 6.31607 2.87868 6.87868C2.31607 7.44129 2 8.20435 2 9V15C2 15.7957 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H14C14.777 18.0005 15.5238 17.6996 16.0834 17.1606C16.6429 16.6215 16.9715 15.8864 17 15.11L20.56 16.89C20.6963 16.9599 20.8468 16.9975 21 17C21.1872 17.0006 21.3709 16.9486 21.53 16.85C21.6741 16.7599 21.7929 16.6346 21.8751 16.4859C21.9574 16.3372 22.0003 16.1699 22 16V8C22.0003 7.83006 21.9574 7.66283 21.8751 7.51411C21.7929 7.36538 21.6741 7.24007 21.53 7.15ZM15 15C15 15.2652 14.8946 15.5196 14.7071 15.7071C14.5196 15.8946 14.2652 16 14 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V9C4 8.73478 4.10536 8.48043 4.29289 8.29289C4.48043 8.10536 4.73478 8 5 8H14C14.2652 8 14.5196 8.10536 14.7071 8.29289C14.8946 8.48043 15 8.73478 15 9V15ZM20 14.38L17 12.88V11.12L20 9.62V14.38Z" fill="currentColor"/></svg>',rgxp:/no watermark video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},subtitles:{title:"Subtitles",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.90869 13.6143V12.3643H11.8253V13.6143H3.90869ZM3.90869 10.2809V9.03096H16.8253V10.2809H3.90869ZM3.90869 6.94759V5.69763H16.8253V6.94759H3.90869Z" fill="currentColor"/>\n</svg>\n',rgxp:/subtitles/i,extensions:["yt_srt","srt","vtt"],extensions_weight:["yt_srt","srt","vtt"]}},r={"4320p":{i18n_label:"quality_8k_uhd",label:"8K UHD",value:1600},"3072p":{i18n_label:"quality_4k_qfhd",label:"4K QFHD",value:1400},"2160p":{i18n_label:"quality_4k_uhd",label:"4K UHD",value:1200},"2048p":{i18n_label:"quality_qhd",label:"Quad HD",value:1100},"1440p":{i18n_label:"quality_qhd",label:"Quad HD",value:1e3},"1080p":{i18n_label:"quality_fhd",label:"Full HD",value:800},"720p":{i18n_label:"quality_hd",label:"HD",value:600},"540p":{i18n_label:"quality_standard",label:"Standard",value:500},"480p":{i18n_label:"quality_standard",label:"Standard",value:500},"360p":{i18n_label:"quality_medium",label:"Medium",value:400},"320p":{i18n_label:"quality_medium",label:"Medium",value:400},"270p":{i18n_label:"quality_small",label:"Small",value:300},"240p":{i18n_label:"quality_small",label:"Small",value:200},"144p":{i18n_label:"quality_mobile",label:"Mobile",value:100}},o=["video","audio","subtitles"];function a(t){return!!t&&-1!==["m3u8","m3u","hls","zip"].indexOf(t)}var s=[4320,3072,2160,2048,1440,1080,720,540,480,360,320,270,240,144],u=[/^(.+\.)?nixcdn\.com/im,/^(.+\.)?vcmedia\.vn/i,/^(.+\.)?kenhhd\.tv/i],l=[/coccoc\.com\/sitemap\.xml/i],c=[/m\.naver\.com\/\/?shorts/i],d="hidePermanent",h="customControlFromServer",p="youtubeControls",_="otherControls",v="116.0.0.0",m=1,f=3,g=1,y="youtubeTurnOffAdblock",E="gserpSelectors",b="off",O=["animevietsub","vuighe","anime47","animehay","phimmoi","motchill","dongchill","dailymotion.com","hhpanda","bluphim","phimtuoitho","subnhanh","tvhay","phim33","hoathinh3d","phimtm","hhkungfu","motphimtv","tvphim","phimhay","xem14","animesub","hh3dhay","ghienphim","vietsub","vipphim","khophim","phimvsub","ohitv"],T="ytbViewCount",L=9,w="ytbMobileOnboardReady";class S{}S.PROMOTE_SERP={_:"promote_serp",GET:"get_promote_serp",CLOSE:"close_promote_serp"},S.ONBOARD_TRACK={GET:"get_onboard_track",SAVE:"save_onboard_track"},S.ONBOARD_IMPORTDATA="get_onboard_importdata",S.DOWNLOAD="download",S.PLAY="play_video",S.SET_FEATURE="set_feature",S.IS_SUPPORTED="is_supported",S.FRAME_TYPE="frame_type",S.FETCH="background_request",S.YOUTUBE={GET_INFO:"youtube_get_info",GET_MPD:"youtube_get_mpd_info"},S.OMNI={ACTIVE:"active_omnibox",DEACTIVE:"deactive_omnibox"},S.METRICS="metrics",S.CACHE="cache.background",S.PIP={REQUEST:"pip",INNER:"inner_frame_pip",ON:{ENTER:"inner_pip_enter",LEAVE:"inner_pip_leave"}},S.CONSOLE_LOG="console.log",S.GET_URL="get_url",S.SAVE_URL="save_url",S.GET_MATCHED_REQUESTS="get_matched_requests",S.GET_SERVER_TIME="get_server_time",S.OPEN_SEARCH_SETTINGS="open_search_engines_settings",S.SCRIPTING={INJECT:"inject_script",NOTIFY:"script_executed",EXEC:"execute_script"},S.OPEN_SETTINGS="open_settings",S.OFFSCREEN={},S.TURN_OFF_ADBLOCK_ON_YOUTUBE="turn_off_adblock_on_youtube",S.TURN_ON_ADBLOCK_ON_YOUTUBE="turn_on_adblock_on_youtube",S.GET_FASTFORWARD_ENABLED="get_ff_enabled";var I=["chrome://","coccoc://"],A=["coccoc.com/webhp","about:blank"],x=["xoilac","thapcam","cakhia","vebo","gavang","c19hcc","90phut","screenbid","socolive","luongson","xembong","livebong","bongda","caheo","soco","rakhoi","tructiepbong","antlive"],C=["anime","vuighe.org"],D=["truyen","manga","comic","manhwa","manhua","toon","ebook","novel","monkeyd","wattpad","waka.vn"]},17:function(t,e,n){"use strict";function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new S(i||[]);return r(a,"_invoke",{value:O(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function p(){}function _(){}function v(){}var m={};l(m,a,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(I([])));g&&g!==e&&n.call(g,a)&&(m=g);var y=v.prototype=p.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var u=d(t[r],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function O(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=d(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function T(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=d(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return _.prototype=v,r(y,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:_,configurable:!0}),_.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},E(b.prototype),l(b.prototype,s,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new b(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(y),l(y,u,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=I,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}n.d(e,"a",(function(){return o}));var r=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))};function o(t){return r(this,void 0,void 0,i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,chrome.runtime.sendMessage(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Caught",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))}},2:function(t,e,n){"use strict";var i=n(7),r=n(1);var o=new class{constructor(){this._storage=chrome.storage.local,this._handlerMap=new Map,this._options={},this._default={skipping_ads_enable:!0,detach_enabled:!0,on_page_buttons:!0,min_stream_size:30720,prefer_last_quality:!0,last_quality:void 0,hide_play_now_tooltip:!1,hide_play_now_tooltip_bottom:!1,instant_actions_tooltip_shown:!1,instant_actions_tooltip_shown_count:0,instant_actions_button_download:!1,preferred_quality_level:i.b.DEFAULT_QUALITY_LEVEL,show_3gp_ext:!1,video_changed:!1,ADLIST_CUSTOM_RULE:{},[r.s]:[]},this.loaded=!1;var t=this;chrome.storage.onChanged.addListener((e,n)=>{var i;if("local"===n){for(var r in e)t._options[r]=e[r].newValue;for(var o in e)null===(i=this._handlerMap.get(o))||void 0===i||i.forEach(t=>t())}})}load(){var t=this;return new Promise(e=>{t._storage.get(null,n=>{t._options=n,t.loaded=!0,e(n)})})}set(t,e){var n={};n[t]=e,this._storage.set(n),this.loaded&&("string"==typeof t||"number"==typeof t&&void 0!==e)&&(this._options[t]=e)}get(t){return this.loaded&&t in this._options?this._options[t]:this._default[t]}has(t){return void 0!==this._options[t]}remove(t){delete this._options[t],this._storage.remove([t],()=>{var t=chrome.runtime.lastError;t&&console.warn("Caught",t)})}addOptionChangedListener(t,e){var n,i=null!==(n=this._handlerMap.get(t))&&void 0!==n?n:[];i.push(e),this._handlerMap.set(t,i)}};e.a=o},22:function(t,e,n){t.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}var o=RegExp.prototype.test,a=/\S/;function s(t){return!function(t,e){return o.call(t,e)}(a,t)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,c=/\s+/,d=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function _(t){this.string=t,this.tail=t,this.pos=0}function v(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function m(){this.cache={}}_.prototype.eos=function(){return""===this.tail},_.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},_.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},v.prototype.push=function(t){return new v(t,this)},v.prototype.lookup=function(t){var e,i,o,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var s,u,l,c=this,d=!1;c;){if(t.indexOf(".")>0)for(s=c.view,u=t.split("."),l=0;null!=s&&l<u.length;)l===u.length-1&&(d=r(s,u[l])||(i=s,o=u[l],null!=i&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(o))),s=s[u[l++]];else s=c.view[t],d=r(c.view,t);if(d){e=s;break}c=c.parent}a[t]=e}return n(e)&&(e=e.call(this.view)),e},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(t,n){var r=this.cache,o=t+":"+(n||f.tags).join(":"),a=r[o];return null==a&&(a=r[o]=function(t,n){if(!t)return[];var r,o,a,u=!1,v=[],m=[],g=[],y=!1,E=!1,b="",O=0;function T(){if(y&&!E)for(;g.length;)delete m[g.pop()];else g=[];y=!1,E=!1}function L(t){if("string"==typeof t&&(t=t.split(c,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),o=new RegExp("\\s*"+i(t[1])),a=new RegExp("\\s*"+i("}"+t[1]))}L(n||f.tags);for(var w,S,I,A,x,C,D=new _(t);!D.eos();){if(w=D.pos,I=D.scanUntil(r))for(var N=0,P=I.length;N<P;++N)s(A=I.charAt(N))?(g.push(m.length),b+=A):(E=!0,u=!0,b+=" "),m.push(["text",A,w,w+1]),w+=1,"\n"===A&&(T(),b="",O=0,u=!1);if(!D.scan(r))break;if(y=!0,S=D.scan(p)||"name",D.scan(l),"="===S?(I=D.scanUntil(d),D.scan(d),D.scanUntil(o)):"{"===S?(I=D.scanUntil(a),D.scan(h),D.scanUntil(o),S="&"):I=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(x=">"==S?[S,I,w,D.pos,b,O,u]:[S,I,w,D.pos],O++,m.push(x),"#"===S||"^"===S)v.push(x);else if("/"===S){if(!(C=v.pop()))throw new Error('Unopened section "'+I+'" at '+w);if(C[1]!==I)throw new Error('Unclosed section "'+C[1]+'" at '+w)}else"name"===S||"{"===S||"&"===S?E=!0:"="===S&&L(I)}if(T(),C=v.pop())throw new Error('Unclosed section "'+C[1]+'" at '+D.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(m))}(t,n)),a},m.prototype.render=function(t,e,n,i){var r=this.parse(t,i),o=e instanceof v?e:new v(e,void 0);return this.renderTokens(r,o,n,t,i)},m.prototype.renderTokens=function(t,e,n,i,r){for(var o,a,s,u="",l=0,c=t.length;l<c;++l)s=void 0,"#"===(a=(o=t[l])[0])?s=this.renderSection(o,e,n,i):"^"===a?s=this.renderInverted(o,e,n,i):">"===a?s=this.renderPartial(o,e,n,r):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(u+=s);return u},m.prototype.renderSection=function(t,i,r,o){var a=this,s="",u=i.lookup(t[1]);if(u){if(e(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],i.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],i.push(u),r,o);else if(n(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(i.view,o.slice(t[3],t[5]),(function(t){return a.render(t,i,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],i,r,o);return s}},m.prototype.renderInverted=function(t,n,i,r){var o=n.lookup(t[1]);if(!o||e(o)&&0===o.length)return this.renderTokens(t[4],n,i,r)},m.prototype.indentPartial=function(t,e,n){for(var i=e.replace(/[^ \t]/g,""),r=t.split("\n"),o=0;o<r.length;o++)r[o].length&&(o>0||!n)&&(r[o]=i+r[o]);return r.join("\n")},m.prototype.renderPartial=function(t,e,i,r){if(i){var o=n(i)?i(t[1]):i[t[1]];if(null!=o){var a=t[6],s=t[5],u=t[4],l=o;return 0==s&&u&&(l=this.indentPartial(o,u,a)),this.renderTokens(this.parse(l,r),e,i,l)}}},m.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},m.prototype.escapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return f.escape(n)},m.prototype.rawValue=function(t){return t[1]};var f={name:"mustache.js",version:"3.2.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,to_html:void 0,Scanner:void 0,Context:void 0,Writer:void 0},g=new m;return f.clearCache=function(){return g.clearCache()},f.parse=function(t,e){return g.parse(t,e)},f.render=function(t,n,i,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return g.render(t,n,i,r)},f.to_html=function(t,e,i,r){var o=f.render(t,e,i);if(!n(r))return o;r(o)},f.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return u[t]}))},f.Scanner=_,f.Context=v,f.Writer=m,f}()},3:function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return d})),n.d(e,"g",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return _}));var i=n(1),r=n(0),o=/([^/]+)$/i,a=/\.([^/.]*)$/i;function s(t){return t&&0!==t.indexOf("data:image")?/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/\.?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t):[]}function u(t){var e="",n="";try{var i=t.split("/");e=i[0];var r=i[1].split(";")[0];switch(n=r,r){case"webm":n="video"==e?"webm":"weba";break;case"3gpp":n="3gp";break;case"3gpp2":n="3g2";break;case"ogg":n="video"==e?"ogv":"oga";break;case"mpeg":n="video"==e?"mpeg":"mp3";break;case"x-midi":n="midi";break;case"x-msvideo":n="avi";break;case"mp2t":n="ts"}return{type:e,ext:n}}catch(t){return{type:e,ext:n}}}function l(t,e){var n="object"==typeof t?t.videoUrl:t,i=new URL(n,n.startsWith("http")?void 0:location.origin),s=(i.pathname.match(o)||[])[1]||"",l=s.split(".").map(t=>t.toLowerCase());s=decodeURIComponent(s.replace(a,"")),l.shift(),0===l.length&&Object(r.isSpecialUrls)(t)&&(l=["m3u8"]);var c=l[l.length-1]||"",d=null;if(i.href.startsWith("data:")){var h=u(i.href.match(/data:([a-z]+\/[a-z0-9]+);/i)[1]);c=h.ext,d=h.type}var p={url:"object"==typeof t?t:i.href,protocol:i.protocol,host:i.host,port:i.port,pathname:i.pathname,filename:s,ext:c,exts:l,hash:i.hash,search:i.search,type:d};if(p.port||delete p.port,e){var _={};i.search.replace(/^\?/,"").split(/&/).forEach(t=>{var e=t.split("=");_[e[0]]=e[1]}),p.query=_}return"flac"==c&&(p.quality="Lossless",p.resolution="lossless"),p}function c(t){var e,n="object"==typeof t?t.videoUrl:t;if(n.startsWith("data:")){var r=n.match(/data:([a-z]+)/)[1];return["audio","video"].includes(r)?r:""}var o=(null===(e=s(n))||void 0===e?void 0:e[11])||"";if(!o)return"";var a=new Map,u=["no_watermark_video"];Object.keys(i.o).forEach(t=>{if(!u.includes(t))for(var e=i.o[t].extensions,n=0;n<e.length;n++)a.set(e[n],t)}),n.includes("googlevideo.com/videoplayback")&&"videoplayback"===o&&n.includes("mp4")&&(o="video.mp4"),n.includes("videoplayback")&&"videoplayback"===o&&n.includes("mp4")&&(o="video.mp4");var l=o.split("."),c=l.length-1;if(c<=0)return"";var d=l[c].toLowerCase();return a.get(d)}function d(t){if((t=Object.create(t)).query){for(var e in t.search=[],t.query)void 0!==t.query[e]?t.search.push(e+"="+encodeURIComponent(t.query[e])):t.search.push(e);t.search="?"+t.search.join("&"),delete t.query}return t.href}function h(t){var e=(t=t.replace(/^[#?]{1}/,"")).split("&"),n={};return e.forEach(t=>{var e=t.split("=");Object(r.defined)(e[0])&&Object(r.defined)(e[1])&&(n[e[0]]=decodeURIComponent(e[1].replace(/\+/g," ")))}),n}var p=(()=>{for(var t=["facebook.com","youtube.com","video.vnexpress.net","mp3.zing.vn","radio.zing.vn","tv.zing.vn","nhaccuatui.com","video.thethao247.vn","video.ngoisao.net","xvideos.com","phimmoi.net","clip.vn","yan.vn","xem.vn","pornhub.com","xhamster.com","dailymotion.com","xnxx.com","hdonline.vn","phim3s.net","redtube.com","phim14.net","soundcloud.com","youporn.com","vimeo.com","fptplay.net","haivn.com","chiasenhac.com","movies.hdviet.com","nhac.vui.vn","nhacso.net","anime47.com","tube8.com","talktv.vn","chatvl.info","cohet.tv","vlxx.tv","hayhaytv.vn","xemphimso.com","vivo.vn","xemvtv.net","vkool.net","chimsedinang.com","keeng.vn","vuighe.net","vetv.vn","xemphimon.com","ixxx.com","biphim.com","kenhvideo.com","videogame.vn","phim.in","voh.com.vn","phimsexporn.com","porn99.net","news.zing.vn","me.zing.vn","twitter.com","24h.com.vn","phim.clip.vn","video.ringring.vn","v.nhaccuatui.com","clip.vietnamnet.vn","afamily.vn","media.bongdaplus.vn","bongdaclip.com","gamek.vn","phapluattp.vn","hdviet.com","haiivl.com","chatvl.com","2sao.vn","videos.vietgiaitri.com","nhac.vietgiaitri.com","megafun.vn","phim.hayhd.vn","cand.com.vn","ohay.tv","phim.megabox.vn","anhtrang.org","phim.anhtrang.org","8bongda.com","xemphimone.com","bongda365.com.vn","phimhd.vn","dinotube.com","phimvipvn.net","animeax.com","phimdata.com","phimnhanh.net","vipphim.net","phimvon.com","pubvn.tv","phim22.com","phim7.com","hayxemphim.com","m-viet.com","thethaoclip.com","nhac.hay365.com","ssphim.com","phimtructuyenhd.com","xuongphim.tv","vino.vn/mp3","haivl.io","nhacvang.org","starmovies.mobi","clipvuivn.com","phimporn.com","123tv.vn","phimonlinehd.net","hai24h.net","jax.vn","kenhgioitre.net","chiaseclip.net","phim.xixam.com","bilutv.com","phimbathu.com","instagram.com","banhtv.com","txxx.com","video.vietnamnet.vn","video.bongdaplus.vn","creatives.livejasmin.com","tv.naver.com","tv.tuoitre.vn","icdrama.se","video.thanhnien.vn","spankbang.com","dmm.co.jp","v.youku.com","v.qq.com","daikynguyenvn.com","thethao247.vn","e.vnexpress.net","ione.vnexpress.net","kenh14.vn","dantri.com.vn","baomoi.com","emdep.vn","tuoitre.vn","soha.vn","video.congan.com.vn","cafef.vn","bongda.com.vn","bongdaso.com","eva.vn","danviet.vn","cliptv.vn","bbc.co.uk","edition.cnn.com","buzzfeed.com","businessinsider.com","cnet.com","dailymail.co.uk","bilutvx.net","chill123.gotdns.ch"],e={},n=0,i=t.length;n<i;++n){var r=t[n];console.assert(!(r in e),'Duplicate "'+r+'": '+e[r]+", "+n),e[r]=n+1}return function(t){for(var n=function(t){var e;return(null===(e=s(t))||void 0===e?void 0:e[6])||""}(t),i=e[n];!i&&n;){var r=n.indexOf(".")+1;if(0===r)break;n=n.substr(r),i=e[n]}return 100+(0|i)}})();function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t||new URL(e);if(e.includes("https")||e.includes("//"))return e.includes("http")||(e="https:"+e),e;if(n&&e.startsWith("/"))return i.origin?i.origin+e:e;var r=(i.host+i.pathname).split("/").filter(t=>!!t).slice(0,-1),o=e.split("/").filter(t=>!!t),a=o.lastIndexOf(".."),s=o.slice(0,a+1),u=o.slice(a+1);s.length>0&&(r=r.slice(0,-s.length));var l=r.indexOf(u[0]);if(-1==l)r.push(...u);else{l+=1;for(var c=1;c<u.length;++c){var d=u[c];r.includes(d)||(r[l-1]===u[c-1]?r[l]=d:r.push(d)),l+=1}}return i.protocol+"//"+r.join("/")}},4:function(t,e,n){"use strict";var i=n(6),r=n(17);class o{constructor(){this.SOURCE_POPUP_PAGE=0,this.SOURCE_OPTIONS_PAGE=10,this.SOURCE_CONTENT_SCRIPT=20,this.SOURCE_BACKGROUND_PAGE=30,this.LEGACY_METRICS_NAME_MAP={ButtonClicked:"TryItNowButtonClicked",CheckBoxClicked:"OneClickCheckbox"},this.PAGE_WELCOME_SCREEN=0,this.PAGE_DOWNLOADS_LIST=1,this.PAGE_ONE_CLICK_DOWNLOAD=2,this.PAGE_NO_MEDIA_FOUND=3,this.PAGE_OPTIONS=4,this.PAGE_CONTENT_SHOW_CONTROLS=5,this.PAGE_CONTENT_NO_MEDIA=9,this.YOUTUBE_ADS_BLOCK_ERROR=0,this.YOUTUBE_ADS_BLOCK_ERROR_POPUP=1,this.YOUTUBE_ADS_BLOCK_ERROR_BY_SAVIOR=2,this.YOUTUBE_ADS_BLOCK_ERROR_POPUP_BY_SAVIOR=3,this.YOUTUBE_SKIP_ADS_SHOWN=1,this.YOUTUBE_SKIP_ADS_FAST_FWD=2,this.YOUTUBE_SKIP_ADS_SEE=3,this.DOWNLOAD_AUTO=0,this.DOWNLOAD_BUTTON=1,this.DOWNLOAD_ALL=2,this.DOWNLOAD_REQUEST_SIZE=3,this.DOWNLOAD_REQUEST_SIZE_FAILED=4,this.DOWNLOAD_SOUND_ONLY=5,this.DOWNLOAD_YOUTUBE_ERROR=6,this.DOWNLOAD_CANCELED=7,this.DOWNLOAD_SUBTITLES=9,this.BUTTON_MAIN=0,this.BUTTON_TRY_IT_NOW=1,this.BUTTON_SHOW_DOWNLOADS=2,this.BUTTON_OPEN_SETTINGS=3,this.BUTTON_DOWNLOAD_ALL=4,this.BUTTON_MORE_OPTIONS=5,this.BUTTON_HIDE_PERMANENT=6,this.BUTTON_FAKE_QUALITY=7,this.BUTTON_DETACH=8,this.BUTTON_HIDE=9,this.CHECK_BOX_ENABLE_ONE_CLICK=0,this.CHECK_BOX_SHOW_ON_PAGE_BUTTONS=2,this.CHECK_BOX_PREFER_LAST_QUALITY=4,this.CHECK_BOX_DETACH_ENABLED=6,this.CHECK_BOX_DARK_THEM_ENABLED=8,this.PIP_DETACH_CLICK=0,this.PIP_RESTORE_CLICK=1,this.PIP_SITE_LINK_CLICK=2,this.PLAY_NOW_SHOWN=0,this.PLAY_NOW_WIDGET_CLICKED=1,this.PLAY_NOW_TOOLTIP_SHOWN=2,this.PLAY_NOW_TOOLTIP_CLOSED=3,this.PLAY_NOW_TOOLTIP_NOT_SHOW_AGAIN=4,this.PLAY_NOW_TOOLTIP_BOTTOM_SHOWN=5,this.PLAY_NOW_TOOLTIP_BOTTOM_CLOSED=6,this.PLAY_NOW_TOOLTIP_BOTTOM_NOT_SHOW_AGAIN=7,this.EXTENSION_MP4=1,this.EXTENSION_MP3=2,this.EXTENSION_WEBM=3,this.EXTENSION_3GP=4,this.EXTENSION_SRT=5,this.EXTENSION_OTHER=6,this.SEND_MOBILE_SHOW=1,this.SEND_MOBILE_CLICK=2,this.SEND_MOBILE_CLICK_CLOSE=3,this.SEND_MOBILE_CLICK_A=4,this.SEND_MOBILE_CLICK_G=5,this.SEND_MOBILE_CLICK_W=6,this.SEND_MOBILE_CLICK_AUDIO=7,this.SEND_MOBILE_ERROR=9,this.TURN_LIGHT_ON=0,this.TURN_LIGHT_OFF=1,this.ONBOARD_POPUP_SHOWN=1,this.ONBOARD_POPUP_SHOWN_SECOND=1,this.ONBOARD_POPUP_SHOWN_THIRD=1,this.ONBOARD_TRY_NOW_BTN_CLICK=1,this.CLOSE_ONBOARD_POPUP=1,this.OPEN_SETTING_POPUP=1,this.OPEN_SETTING_CONTENT=2}get source(){if(!chrome.action&&!chrome.pageAction)return this.SOURCE_CONTENT_SCRIPT;switch(location.pathname){case"/popup.html":return this.SOURCE_POPUP_PAGE;case"/options.html":return this.SOURCE_OPTIONS_PAGE;case"/background.js":case"/background.html":return this.SOURCE_BACKGROUND_PAGE;default:return null}}_getFullName(t){return"Savior."+(this.LEGACY_METRICS_NAME_MAP[t]||t)}_getTotalValue(t,e,n){return 0===t.indexOf("Refr")||n||["PageShown","YTBlockType","YTSkipAdShown","ForceDisableAdblockOnYoutube"].includes(t)||(null==t?void 0:t.startsWith("Onboarding."))||"number"!=typeof e?e:e+this.source}_doLog(t,e,n){var i,o=this._getFullName(e);if(!(parseInt((null===(i=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))||void 0===i?void 0:i[2])||"")<=50))if(this.source===this.SOURCE_CONTENT_SCRIPT)Object(r.a)({type:"metrics",method:"log",params:{name:e,value:n}});else if(chrome.metricsPrivate)switch(t){case"recordSmallCount":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:100,buckets:100},n);break;case"recordValue":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:1e3,buckets:1002},n);break;case"recordCustomData":chrome.metricsPrivate.recordCustomData(n)}else if("recordCustomData"===t){if(n&&1===n.length)return void console.info("%c[Metrics] %crecordCustomData %c%s","color:gray","color:silver","color: lightgreen",n[0].key,JSON.parse(n[0].value));console.info("%c[Metrics]","color:gray","recordCustomData",n)}else console.info("%c[Metrics]","color:gray",t,o,n)}static _getMethodByName(t){switch(t){case"Refr":case"RefrSE":case"RefrFE":case"RefrPin":return"recordValue";case"recordCustomData":return"recordCustomData";default:return"recordSmallCount"}}log(t,e,n){try{var r=o._getMethodByName(t);if("recordCustomData"===r&&i.a.CUSTOM_METRICS_JSON)return void this._doLog(r,t,e);var a=this._getTotalValue(t,e,n);this._doLog(r,t,a)}catch(t){console.warn("Catched",t)}}logYtExtension(t){switch(t.toLowerCase()){case"mp4":this.log("YtExtension",this.EXTENSION_MP4);break;case"mp3":this.log("YtExtension",this.EXTENSION_MP3);break;case"webm":this.log("YtExtension",this.EXTENSION_WEBM);break;case"3gp":this.log("YtExtension",this.EXTENSION_3GP);break;case"srt":this.log("YtExtension",this.EXTENSION_SRT);break;default:this.log("YtExtension",this.EXTENSION_OTHER)}}logSendMobile(t){this.log("SendMobile",t)}logFromContentScript(t,e){this.log(t,e,!0)}logRequest(t){var e=Object.keys(t).reduce((e,n,i)=>e+=`${i?"&":""}${n}=${t[n]}`,"?");navigator.sendBeacon("https://coccoc.com/log"+e)}}e.a=new o},435:function(t,e,n){"use strict";n.r(e);n(482);var i=n(0),r=n(7),o=n(4),a=n(2),s=n(22),u=n.n(s),l=n(1);class c{constructor(){this._optionsNode=null,this._options=a.a,this._options.load().then(()=>this._init())}_init(){this._options.get("user_changed_skip_ads_value")||this._options.set("skipping_ads_enable",!0),this._optionsNode=Object(i.query)("#options"),this._drawOptionsPage(!1),this._setupEventListeners(),o.a.log("PageShown",o.a.PAGE_OPTIONS)}_readOptionDataToForm(t){return t||(t={onPageButtonsEnabled:this._options.get("on_page_buttons"),detachButtonEnabled:this._options.get("detach_enabled"),isOneClickEnabled:this._options.get("one_click"),preferLastQuality:this._options.get("prefer_last_quality"),instantDownload:this._options.get("instant_actions_button_download"),minStreamSize:this._options.get("min_stream_size"),preferredQualityLevel:this._options.get("preferred_quality_level"),skippingAdsEnabled:this._options.get("skipping_ads_enable"),show3gpExt:this._options.get("show_3gp_ext"),hideWidgetSites:this._options.get(l.s)||[]}),t}_toFormRenderData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._formData,e=chrome.runtime.getURL("");return{onPageButtonsEnabled:t.onPageButtonsEnabled,detachButtonEnabled:t.detachButtonEnabled,isOneClickEnabled:t.isOneClickEnabled,preferLastQuality:t.preferLastQuality,instantDownload:t.instantDownload,minStreamSize:t.minStreamSize,skippingAdsEnabled:t.skippingAdsEnabled,minStreamSizeValue:Object(i.beautifyFileSize)(t.minStreamSize),qLevels:r.b.QUALITY_LEVELS.map(e=>({i18n_ql_title:Object(i.i18n)("ql_"+e.toLowerCase()),qLevelName:e,isChecked:e===t.preferredQualityLevel})),show3gpExt:t.show3gpExt,hideWidgetSites:(t.hideWidgetSites||[]).map(t=>({domain:t,icon:`${e}_favicon/?pageUrl=${encodeURIComponent("https://www."+t)}&size=20`}))}}_drawOptionsPage(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Object.assign(Object.assign({},this._toFormRenderData(this._readOptionDataToForm())),{i18n_options_title:Object(i.i18n)("options_title"),i18n_show_on_page_buttons:Object(i.i18n)("options_show_on_page_buttons"),i18n_show_detach_button:Object(i.i18n)("options_show_detach_button"),i18n_one_click:Object(i.i18n)("options_one_click"),i18n_preferred_quality:Object(i.i18n)("popup_preferred_quality"),i18n_prefer_last_quality:Object(i.i18n)("options_prefer_last_quality"),i18n_skip_ads:Object(i.i18n)("options_skip_ads"),i18n_skip_ads_desc:Object(i.i18n)("options_skip_ads_desc"),i18n_min_stream_szie:Object(i.i18n)("options_min_stream_size"),i18n_save_and_close:Object(i.i18n)("options_save_and_close"),i18n_show_3gp:Object(i.i18n)("options_show_3gp"),i18n_show_instant_download:Object(i.i18n)("instant_actions_download_options"),i18n_site_hidden_widget_title:Object(i.i18n)("options_site_hide_widget_list_title"),i18n_site_hidden_widget_btn_add:Object(i.i18n)("options_site_hide_widget_list_button_add"),i18n_site_hidden_widget_list_empty:Object(i.i18n)("options_site_hide_widget_list_empty"),i18n_btn_close:Object(i.i18n)("options_close"),i18n_btn_save:Object(i.i18n)("options_save")}),r=null===(t=Object(i.query)("#options-template"))||void 0===t?void 0:t.textContent;this._optionsNode&&r&&(this._optionsNode.innerHTML=u.a.render(r,n)),document.title=Object(i.i18n)("appName"),e&&this._bindListeners()}_renderAddSitePopup(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.query)("#modal-container"),o={i18n_title:Object(i.i18n)("options_site_popup_title"),i18n_desc:Object(i.i18n)("options_site_popup_desc"),i18n_input_label:Object(i.i18n)("options_site_popup_input_label"),i18n_input_placeholder:Object(i.i18n)("options_site_popup_input_placeholder"),i18n_btn_close:Object(i.i18n)("options_site_popup_secondary_button"),i18n_btn_primary:Object(i.i18n)("options_site_popup_primary_button")},a=null===(t=Object(i.query)("#modal-add-site-template"))||void 0===t?void 0:t.textContent;if(a){var s=document.createElement("div");s.innerHTML=u.a.render(a,o),s=s.firstElementChild,this._$popup=s;var c=t=>{s.remove()};null===(e=s.querySelector("modal-backdrop"))||void 0===e||e.addEventListener("click",c),Array.from(s.querySelectorAll("[data-action]")).forEach(t=>{var e=t.getAttribute("data-action"),n=s.querySelector("form"),r=s.querySelector("#modal-add-input"),o=s.querySelector("fieldset:has(#modal-add-input) + .helper"),a=()=>{r.removeAttribute("invalid"),o.innerText=""},u=()=>{var t=Object(i.formatDomain)(r.value),e=this._options.get(l.s)||[];return t&&/^(https?:\/\/)?(?!-)[A-Za-z0-9-]+([\-\.]{1}[a-z0-9]+)*\.[A-Za-z]{2,6}$/i.test(t)?e.indexOf(t)>-1?(r.setAttribute("invalid",""),o.innerText=Object(i.i18n)("options_site_popup_input_helper_error_duplicate"),!1):(a(),e.indexOf(t)<0&&(e.push(t),this._options.set(l.s,e)),s.remove(),void this._drawOptionsPage()):(r.setAttribute("invalid",""),o.innerText=Object(i.i18n)("options_site_popup_input_helper"),!1)};switch(r.addEventListener("input",a),n.addEventListener("submit",t=>(t.preventDefault(),u(),!1)),e){case"secondary":t.onclick=c;break;case"primary":t.onclick=u}}),r.appendChild(this._$popup),null===(n=s.querySelector("#modal-add-input"))||void 0===n||n.focus()}}_setupEventListeners(){var t,e;null===(t=this._optionsNode)||void 0===t||t.addEventListener("click",t=>{var e=t.target,n=!!e.checked;switch(e.id){case"on-page-buttons":return this._options.set("on_page_buttons",n),this._drawOptionsPage(),void o.a.log("CheckBoxClicked",o.a.CHECK_BOX_SHOW_ON_PAGE_BUTTONS+Number(n));case"detach-button":return this._options.set("detach_enabled",n),void o.a.log("CheckBoxClicked",o.a.CHECK_BOX_DETACH_ENABLED+Number(n));case"one-click-download":return this._options.set("one_click",n),void o.a.log("CheckBoxClicked",o.a.CHECK_BOX_ENABLE_ONE_CLICK+Number(n));case"prefer-last-quality":return this._options.set("prefer_last_quality",n),void o.a.log("CheckBoxClicked",o.a.CHECK_BOX_PREFER_LAST_QUALITY+Number(n));case"skipping-ads":return this._options.set("skipping_ads_enable",n),this._options.set("user_changed_skip_ads_value",!0),void o.a.log("CheckBoxClicked",o.a.CHECK_BOX_PREFER_LAST_QUALITY+Number(n));case"show-3gp-ext":this._options.set("show_3gp_ext",n);break;case"instant-button-download":this._options.set("instant_actions_button_download",n)}switch(e.getAttribute("name")){case"optionsRadios":this._options.set("preferred_quality_level",e.value),o.a.log("OneClickQualityChanged",r.b.getOneClickQualityIndex(e.value))}},!1),null===(e=this._optionsNode)||void 0===e||e.addEventListener("input",()=>{var t=Object(i.query)("#min-stream-size"),e=Object(i.query)("#min-stream-size-value"),n=+t.value;this._options.set("min_stream_size",n),e.textContent=Object(i.beautifyFileSize)(n)},!1),this._bindListeners()}_bindListeners(){var t;Array.from((null===(t=this._optionsNode)||void 0===t?void 0:t.querySelectorAll("[data-action]"))||[]).forEach(t=>{switch(t.getAttribute("data-action")){case"openAddPopup":t.onclick=()=>{this._renderAddSitePopup()};break;case"delete":t.onclick=()=>{var e=t.parentElement,n=e.getAttribute("data-item")||e.getAttribute("data-item"),i=(this._options.get(l.s)||[]).filter(t=>t!=n);this._options.set(l.s,i),e.remove()};break;case"close":case"save":t.onclick=()=>{this._close()}}}),this._options.addOptionChangedListener("on_page_buttons",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("detach_enabled",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("one_click",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("prefer_last_quality",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("skipping_ads_enable",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("show_3gp_ext",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("min_stream_size",this._drawOptionsPage.bind(this)),this._options.addOptionChangedListener("preferred_quality_level",this._drawOptionsPage.bind(this))}_close(){var t;null===(t=window.top)||void 0===t||t.close()}}document.addEventListener("DOMContentLoaded",()=>new c)},482:function(t,e){},6:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a}));var i=n(1);function r(t){return t.split(".").map(t=>parseInt(t))}function o(t,e){if(!t)return!1;var n=e.split(" ");if(2!==n.length)return!1;var i=-1;switch(n[0]){case">":i=1;break;case">=":i=0}var o,a,s,u=r(n[1]);return a=u,(0!==(s=(o=t)[0]-a[0])||0!=(s=o[1]-a[1])||0!=(s=o[2]-a[2])?s:s=o[3]-a[3])>=i}function a(t){var e=t.match(/Chrome\/([\d.]+)/);return e&&e[1]&&(e=r(e[1])),o.bind(null,e)}var s=function(t){var e=t.match(/Chrome\/([\d.]+)/);e&&e[1]&&(e=r(e[1]));var n=o.bind(null,e);return{YT:{mp4:!0,m4a:!0,webm:n(">= 39.0.2171.103"),weba:n(">= 39.0.2171.103")},M3U8:n("> 62.4.3202.180"),SOUND_ONLY:n("> 55.4.2883.114")||!!e&&50===e[0]&&n("> 50.3.2661.150"),SUBTITLES:n("> 55.4.2883.114")||!!e&&50===e[0]&&n("> 50.3.2661.150"),PLAY_NOW_BOTTOM_TOOLTIP:n("> 55.4.2883.126"),IS_ADS_PIP_PARAMS:n("> 60.4.3112.120"),MEDIA_WEB_REQUEST:n(">= 58.4.3029.118"),SERP_ADD_STRUCTURES:n(">= 62.4.3202.176"),SERP_ADD_INNER_STRUCTURES:n(">= 64.4.3282.200"),MOBILE_TRANSFER_PANEL:!0,CUSTOM_METRICS_JSON:n(">= 64.4.3282.236"),DASH_DOWNLOAD:n(">= 72.0.3626.130"),WEB_REQUEST_EXTRA_HEADERS:n(">= 72.0.0.0"),NATIVE_PIP:n(">= 74.0.0.0"),DOWNLOAD:{EXTRA_DATAS:n(">= 103.0.0.0"),M3U8_AUDIO:n(">= 109.0.0.0")},CHATGPT:n(">= 110.0.0.0"),DO_NOT_ONBOARD_YOUTUBE_ANTI_ADBLOCKER:n(">= 117.0.0.0"),DO_NOT_FAST_FORWARD_YOUTUBE_ADS:n(">= "+i.i),SRT_V3_SUPPORT:n(">= 121.0.0.0")}}(t.navigator.userAgent);e.a=s}).call(this,n(9))},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1);class o{constructor(){this.QUALITY_TYPES={},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(i.i18n)(r.v["3072p"].i18n_label),qualityIndex:8,size:3072,videoTitle:"Super HD"},this.QUALITY_TYPES["4K"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES["4K UHD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(i.i18n)(r.v["2160p"].i18n_label),qualityIndex:7,size:2160,videoTitle:"Ultra HD"},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(i.i18n)(r.v["1440p"].i18n_label),qualityIndex:6,size:1440,videoTitle:"Quad HD"},this.QUALITY_TYPES["Quad HD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]={quality:o.QL_HIGH,i18n_quality:Object(i.i18n)(r.v["1080p"].i18n_label),qualityIndex:5,size:1080,videoTitle:"Full HD",audioTitle:"High",vimeoQuality:"1080p",zingTag:["1080p","label1080"],dailymotionQuality:"1080p",clipvnQuality:"5"},this.QUALITY_TYPES[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_FULLHD],this.QUALITY_TYPES[o.QL_HIGHEST]=Object.assign({},this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]),this.QUALITY_TYPES[o.QL_HIGHEST].qualityIndex+=.01,this.QUALITY_TYPES[o.QL_VIDEO_HD]={quality:o.QL_HIGH,i18n_quality:Object(i.i18n)(r.v["720p"].i18n_label),qualityIndex:4,size:720,videoTitle:"HD",audioTitle:"High",zingTag:["720p","label720"],vimeoQuality:"720p",dailymotionQuality:["hd","720p"],facebookQuality:["hd_src","hd_src_no_ratelimit"],JWQuality:"highquality",clipvnQuality:"4"},this.QUALITY_TYPES[o.QL_VIDEO_STANDARD]={quality:o.QL_MEDIUM,i18n_quality:Object(i.i18n)(r.v["480p"].i18n_label),qualityIndex:3,size:480,videoTitle:"Standard",audioTitle:"Standard",zingTag:["480p"],dailymotionQuality:"480p",vimeoQuality:"480p",facebookQuality:["sd_src","sd_src_no_ratelimit"],JWQuality:"location",clipvnQuality:"3"},this.QUALITY_TYPES[o.QL_VIDEO_MEDIUM]={quality:o.QL_MEDIUM,i18n_quality:Object(i.i18n)(r.v["360p"].i18n_label),qualityIndex:2,size:360,videoTitle:"Medium",audioTitle:"Medium",vimeoQuality:"360p",dailymotionQuality:"380p",zingTag:["source","360p"],JWQuality:"lowquality",clipvnQuality:"2"},this.QUALITY_TYPES[o.QL_VIDEO_SMALL]={quality:o.QL_LOW,i18n_quality:Object(i.i18n)(r.v["270p"].i18n_label),qualityIndex:1,size:240,altSizes:[270],videoTitle:"Small",audioTitle:"Low",dailymotionQuality:"240p",vimeoQuality:"270p",zingTag:["f","f240"],clipvnQuality:"1"},this.QUALITY_TYPES[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL],this.QUALITY_TYPES[o.QL_VIDEO_MOBILE]={quality:o.QL_LOW,i18n_quality:Object(i.i18n)(r.v["144p"].i18n_label),qualityIndex:0,size:144,altSizes:[180],videoTitle:"Mobile",audioTitle:"Low",dailymotionQuality:"144p",vimeoQuality:"",clipvnQuality:"0"},this.PREFERRED_QUALITY_INDEX={},this.PREFERRED_QUALITY_INDEX[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_MEDIUM]=this.QUALITY_TYPES[o.QL_VIDEO_STANDARD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL].qualityIndex,this.DEFAULT_QUALITY_LEVEL=o.QL_HIGH,this.QUALITY_LEVELS=[o.QL_HIGH,o.QL_MEDIUM,o.QL_LOW],this.VIDEO_QUALITY_LEVELS=[o.QL_VIDEO_ULTRAHD,o.QL_VIDEO_FULLHD,o.QL_VIDEO_HD,o.QL_VIDEO_STANDARD,o.QL_VIDEO_MEDIUM,o.QL_VIDEO_SMALL,o.QL_VIDEO_MOBILE],this.DEFAULT_QUALITY_TYPE=o.QL_VIDEO_STANDARD}getFacebookQuality(t){var e;return null===(e=this._getVideoQuality("facebookQuality",t))||void 0===e?void 0:e.videoTitle}getDailymotionQuality(t){var e;return null===(e=this._getVideoQuality("dailymotionQuality",t))||void 0===e?void 0:e.videoTitle}getZingVideoQuality(t){var e;return null===(e=this._getVideoQuality("zingTag",t))||void 0===e?void 0:e.videoTitle}getZingAudioQuality(t){var e;return null===(e=this._getVideoQuality("zingTag",t))||void 0===e?void 0:e.audioTitle}getVimeoQuality(t){var e;return null===(e=this._getVideoQuality("vimeoQuality",t))||void 0===e?void 0:e.videoTitle}getClipvnQuality(t){var e;return null===(e=this._getVideoQuality("clipvnQuality",t))||void 0===e?void 0:e.videoTitle}getJWQuality(t){var e;return null===(e=this._getVideoQuality("JWQuality",t))||void 0===e?void 0:e.videoTitle}getQualityBySize(t){var e;return null===(e=this._getVideoQuality("size",t))||void 0===e?void 0:e.videoTitle}getSizeByQuality(t){return(this.QUALITY_TYPES[t]||{}).size||0}getI18nOfQuality(t){var e;return null===(e=this.QUALITY_TYPES[t])||void 0===e?void 0:e.i18n_quality}_getVideoQuality(t,e,n){for(var i in this.QUALITY_TYPES){var r=this.QUALITY_TYPES[i][t];if(Array.isArray(r)||(r=[r]),-1!==r.indexOf(e))return this.QUALITY_TYPES[i]}return n?null:this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_getTypeByQualityType(t){for(var e in this.QUALITY_TYPES)if(t===e||t===this.QUALITY_TYPES[e].videoTitle||t===this.QUALITY_TYPES[e].audioTitle)return this.QUALITY_TYPES[e];return this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_calculateWeight(t,e){var n,i=(null===(n=r.o[t.type])||void 0===n?void 0:n.extensions_weight)||[],o=i.indexOf(t.ext),a=this._getTypeByQualityType(t.quality||"").qualityIndex;return o/i.length+Math.abs(e-a)/7}getQualityLevelByType(t){return Object.keys(this.QUALITY_TYPES).indexOf(this._getTypeByQualityType(t).videoTitle)}getVideoQualityIndex(t){return this.VIDEO_QUALITY_LEVELS.concat().reverse().indexOf(t)}getOneClickQualityIndex(t){return this.QUALITY_LEVELS.concat().reverse().indexOf(t)}getQualityLevelByQualityType(t){return this._getTypeByQualityType(t).quality}getQualityIndexByVideoTitleQuality(t){return void 0!==this.QUALITY_TYPES[t]?this.QUALITY_TYPES[t].qualityIndex:this.getOneClickQualityIndex(t)}getQualityNameByResolution(t){var e=parseInt(t),n=Object.values(this.QUALITY_TYPES),i=n.find(t=>t.size===e||t.altSizes&&t.altSizes.includes(e));if(i)return i.videoTitle;var r=n.find(t=>t.size<e);return r?r.videoTitle:null}getQualityExtFromDowload(t){return(t.ext||"")+"/"+(t.quality||"")+"/"+(t.resolution||"")}chooseBestDownload(t,e,n){var i=t.length;if(n)for(var r=n.split("/").filter(t=>t).length>2,o=0;o<i;++o){var a=t[o],s=this.getQualityExtFromDowload(a);if(s===n)return a;if(r){var u=n.replace(/(.+)\/.+/,"$1");if(s.replace(/(.+)\/.+/,"$1")===u)return a}}e=e||this.DEFAULT_QUALITY_LEVEL;var l=t.filter(t=>"video"===t.type||"no_watermark_video"===t.type);l&&l.length||(l=t),i=l.length;for(var c=this.PREFERRED_QUALITY_INDEX[e],d=1e3,h=-1,p=0;p<i;++p){var _=l[p],v=this._calculateWeight(_,c);d>v&&(d=v,h=p)}return l[e.toLocaleLowerCase()===n?0:h]}}o.QL_HIGHEST="Highest",o.QL_HIGH="High",o.QL_MEDIUM="Medium",o.QL_LOW="Low",o.QL_VIDEO_ULTRAHD="Ultra HD",o.QL_VIDEO_FULLHD="Full HD",o.QL_VIDEO_HD="HD",o.QL_VIDEO_STANDARD="Standard",o.QL_VIDEO_MEDIUM="Medium",o.QL_VIDEO_SMALL="Small",o.QL_VIDEO_MOBILE="Mobile",e.b=new o},9:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}});