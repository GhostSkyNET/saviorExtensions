!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./",i(i.s=406)}({0:function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"query",(function(){return c})),i.d(e,"queryAll",(function(){return u})),i.d(e,"findParent",(function(){return d})),i.d(e,"nearestParent",(function(){return h})),i.d(e,"getNodePropOrEmptyString",(function(){return _})),i.d(e,"stripTagsExcept",(function(){return p})),i.d(e,"toArray",(function(){return v})),i.d(e,"unique",(function(){return f})),i.d(e,"isMatches",(function(){return E})),i.d(e,"getYoutubeInfo",(function(){return m})),i.d(e,"getYoutubeDashMPDInfo",(function(){return g})),i.d(e,"send",(function(){return y})),i.d(e,"get",(function(){return O})),i.d(e,"_getSize",(function(){return T})),i.d(e,"getSize",(function(){return S})),i.d(e,"logDownloadError",(function(){return b})),i.d(e,"beautifyFileSize",(function(){return L})),i.d(e,"detectMediaTypeAndExt",(function(){return I})),i.d(e,"getFileNameFromContentDisposition",(function(){return C})),i.d(e,"getMediaType",(function(){return A})),i.d(e,"getProp",(function(){return P})),i.d(e,"call",(function(){return w})),i.d(e,"defined",(function(){return N})),i.d(e,"debounce",(function(){return D})),i.d(e,"flatten",(function(){return x})),i.d(e,"generateId",(function(){return U})),i.d(e,"sendMessage",(function(){return q})),i.d(e,"isSpecialUrls",(function(){return M})),i.d(e,"getFilenameFromTitleOfDownload",(function(){return B})),i.d(e,"getVideoId",(function(){return j})),i.d(e,"isValidData",(function(){return G})),i.d(e,"getBestFitResolution",(function(){return Q})),i.d(e,"createMP3Resources",(function(){return V})),i.d(e,"splitMediaByTitle",(function(){return K})),i.d(e,"i18n",(function(){return F})),i.d(e,"isSameMedia",(function(){return Y})),i.d(e,"isTikTok",(function(){return W})),i.d(e,"cleanSymbols",(function(){return z})),i.d(e,"fetchWithTimeout",(function(){return X})),i.d(e,"sleep",(function(){return $})),i.d(e,"beDefinedOr",(function(){return J})),i.d(e,"mergeArray",(function(){return Z})),i.d(e,"Storage",(function(){return tt})),i.d(e,"nextTick",(function(){return et})),i.d(e,"jwtDecode",(function(){return it})),i.d(e,"formatDomain",(function(){return rt})),i.d(e,"paddZero",(function(){return nt})),i.d(e,"transformVersionToNumber",(function(){return ot})),i.d(e,"getDateNumber",(function(){return at})),i.d(e,"useDebounce",(function(){return st})),i.d(e,"checkSameDate",(function(){return lt})),i.d(e,"checkDateInRow",(function(){return ct})),i.d(e,"checkIsDarkMode",(function(){return ut})),i.d(e,"devLog",(function(){return dt}));var r=i(1),n=i(6),o=i(4),a=i(3);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var o=e&&e.prototype instanceof _?e:_,a=Object.create(o.prototype),s=new I(n||[]);return r(a,"_invoke",{value:T(t,i,s)}),a}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function _(){}function p(){}function v(){}var f={};c(f,o,(function(){return this}));var E=Object.getPrototypeOf,m=E&&E(E(C([])));m&&m!==e&&i.call(m,o)&&(f=m);var g=v.prototype=_.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var n;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(n,a){!function r(n,o,a,s){var l=d(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(r,o,n,a)}))}return n=n?n.then(a,a):a()}})}function T(t,e,i){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return A()}for(i.method=n,i.arg=o;;){var a=i.delegate;if(a){var s=S(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var l=d(t,e,i);if("normal"===l.type){if(r=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r="completed",i.method="throw",i.arg=l.arg)}}}function S(t,e){var i=e.method,r=t.iterator[i];if(void 0===r)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new O(u(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var r in e)i.push(r);return i.reverse(),function t(){for(;i.length;){var r=i.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},t}var l=function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function c(t,e){return(e=e||document).querySelector(t)}function u(t,e){var i,r;return v(null!==(r=null===(i=(e=e||document).querySelectorAll)||void 0===i?void 0:i.call(e,t))&&void 0!==r?r:[])}function d(t,e){for(;null!==t&&t.classList&&!t.classList.contains(e);)t=t.parentNode;return t}function h(t,e){for(var i,r=null===(i=document.body.parentNode)||void 0===i?void 0:i.parentNode,n=t;null!=n&&n!=r&&!n.matches(e);)n=n.parentElement;return r==n?null:n}function _(t,e){return t&&t[e]||""}function p(t){return t.replace(/<(?!\/?(?:b|em))[^>]+>/g,"")}function v(t){return Array.prototype.slice.call(t)}function f(t){return Array.from(new Set(t))}function E(t,e){var i,r,n;if(Array.isArray(t)){for(i=0;i<t.length;++i)if(E(t[i],e))return!0;return!1}for(i=0,r=(e=Array.isArray(e)?e:[e]).length;i<r;++i)if("string"==typeof(n=e[i])&&-1!==t.indexOf(n)||n instanceof RegExp&&t.match(n))return!0;return!1}function m(t){return l(this,void 0,void 0,s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{EE.emit("message.background.send",{type:"youtube_get_info",data:{method:"GET",url:t}}),EE.on("youtube_get_info_result",i=>{i.data.url===t&&e(i.data)})}));case 1:case"end":return e.stop()}}),e)})))}function g(t){return l(this,void 0,void 0,s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(e=>{EE.emit("message.background.send",{type:"youtube_get_mpd_info",data:{url:t,method:"GET"}}),EE.on("youtube_set_mpd_info",t=>{var i,r;t&&"resolve"===(null===(i=t.data)||void 0===i?void 0:i.success)&&e(null===(r=t.data)||void 0===r?void 0:r.response)})}));case 1:case"end":return e.stop()}}),e)})))}function y(e,i,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"FormData";function l(t){return[/www\.facebook\.com\/video\/tahoe\/async\/\d+\/\?originalmediaid=\d.+&payloadtype=primary/,/vnecdn\.net/,/vnecdn\.net\/vnexpress\/video\/.+master.m3u8$/,/.smamuhh1metro/,/gpt[0-9]+\.phimmoi\.net/,/vtvgiaitri\.vn/,/hydra/,/www\.facebook\.com\/api\/graphql/,/www.facebook.com\/video\/tahoe\/async/,/www\.nhaccuatui\.com\/flash\/xml\?key3/,/content-aapm1\.uplynk\.com/,/master2-eu\.playerx\.stream/,/i\.instagram\.com\/api\/v1\/media/,/s\d+\.imacdn\.com/,/ok\d+-\d+\.vkuser\.net/,/vd\d+\.mycdn\.me/,/cdn\.javhd\..+\/stream\/.+\.m3u8/,/search-api.artlist.io\/v2\/graphql/i].some(e=>t.match(e))}if(t.IS_CONTENT_SCRIPT&&!l(i)){var c="background_request."+U();return EE.emit("message.background.send",{type:r.a.FETCH,data:{id:c,method:e,url:i,params:n,headers:o,includeCredentials:a,paramType:s}}),new Promise((t,e)=>{EE.on("background_request_result",i=>{var r=i.data;r.id===c&&("resolve"===r.success?t(r.response):e(r.response))})})}var u=null,d=new Headers;if("object"==typeof o)for(var h in o)location.href.includes("nhaccuatui.com/video/")&&"X-Savior-Replace-Cookie"==h||d.append(h,o[h]);"object"==typeof n&&("FormData"===s?(u=Object.keys(n).map(t=>t+"="+n[t]).join("&"),location.host.includes("facebook")&&(u=Object.keys(n).map(t=>`${t}=${encodeURIComponent(n[t])}`).join("&"))):u=JSON.stringify(n)),"POST"===e&&("FormData"===s?d.append("Content-type","application/x-www-form-urlencoded"):d.append("Content-type","application/json"));var _={method:e,headers:d,cache:"reload",body:u||void 0};return a&&(_.credentials="include"),fetch(i,_).then(t=>t.text().then(e=>({status:t.status,statusText:t.statusText,ok:t.ok,redirected:t.redirected,url:t.url,type:t.type,bodyUsed:t.bodyUsed,body:t.body,headers:t.headers,responseText:e})))}function O(t,e){return y("GET",t,{},e)}function T(t){var e,i=new XMLHttpRequest;return t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http";if("//"===t.slice(0,2))return e+":"+t;return t}(t),new Promise((r,n)=>{function o(t){t?r(t):n(t),i.abort(),clearTimeout(e),e=void 0}i.open("GET",t),i.onreadystatechange=function(){if(!(this.readyState<2)){var t=null;try{t=+(this.getResponseHeader("Content-Length")||""),Number.isNaN(t)&&(t=null)}catch(t){}null===t&&200!==this.status||(200!==this.status&&(t=null),o(t))}},i.send(null),e=setTimeout(o,1e4)})}function S(t){return new Promise(e=>{var i=U(),r=t+"_size";function n(n,o){n==i&&(o?e(o):T(t).then(t=>{e(t),EE.emit("media-provider.cache.put",U(),r,t)}).catch(()=>{b({url:JSON.stringify(t),referrer:document.referrer||location.host||JSON.stringify(t),error:"Error: Cannot get media size or media url is wrong"}),e(null),EE.emit("media-provider.cache.put",U(),r,null)}))}EE.emit("media-provider.cache.get",i,r),EE.on("media-provider.cache.hit",n),EE.on("media-provider.cache.miss",n)})}function b(t){o.a.log("recordCustomData",[{key:"savior_download_error",value:JSON.stringify(t)}])}function L(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=["B","KB","MB","GB","TB","PB"],r=-1!==window.navigator.appVersion.indexOf("Win")?1024:1e3;if(!t)return"";var n,o=r;for(n=0;n<i.length&&t>=o;++n)t/=o;var a=i[n],s=Math.round(10*t)/10;return e&&a&&"kb"===a.toLowerCase()&&(s=s.toFixed(0)),s+i[n]}function I(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/x-mpegurl","audio/mpegurl"];if(-1!==o.indexOf(i))return t.type="video",t.ext="m3u8",t;var s=["application/dash+xml"];if(-1!==s.indexOf(i))return t.type="video",t.ext="mpd",t;var l=A(i,t.exts||[]);if(l&&r.o[l]){t.type=l;var c=i.match(/mp4|webm/g);t.exts&&0!==t.exts.length||!c||!c[0]||(t.ext=c[0])}var u=Object(a.d)(i),d=u.ext;if(t.ext||(t.ext=d),M(t.url)&&(t.ext="m3u8",t.exts=["m3u8"]),"application/octet-stream"==i){var h=(null===(e=C(n))||void 0===e?void 0:e.split("."))||[];if(h&&h.length){var _=h.shift(),p=h;_&&(t.filename=_),p&&p.length&&(t.exts=p,d=p[p.length-1],t.ext=d,"mp4"==d&&(t.type="video"))}}return"mp4"==d&&(t.ext="mp4"),t}function C(t){var e;return null===(e=t.match(/filename=["']([^"']+)["']/i))||void 0===e?void 0:e[1]}function A(t,e){var i;for(var n in r.o){if(i=r.o[n],t&&t.match(i.rgxp))return n;if(Array.isArray(e)&&R(e,i.extensions)||-1!==i.extensions.indexOf(e))return n}return null}function R(t,e){for(var i=t.concat(e),r={},n=0;n<i.length;++n){var o=i[n];if(r[o])return o;r[o]=!0}return null}function P(t,e){return function t(e,i){var r=i.shift();return!r||"object"!=typeof e&&"function"!=typeof e||null===e?null:0===i.length?e[r]:t(e[r],i)}(t,e.split("."))}function w(t,e){if(t&&!(t.length<=0))for(var i=[].slice.call(arguments,2),r=0;r<t.length;r++)t[r].apply(e,i)}function N(t){return void 0!==t}function D(t,e,i){var r,n=!1;function o(){if(!n){var o=this,a=arguments;r?clearTimeout(r):i&&t.apply(o,a),r=setTimeout(s,e||100)}function s(){i||t.apply(o,a),r=void 0}}return o.destroy=()=>{clearTimeout(r),n=!0},o}function x(t,e){var i,r=Object.prototype.toString,n=[],o=e&&t||t.slice();if(!t.length)return n;i=o.pop();do{"[object Array]"===r.call(i)?o.push.apply(o,i.filter(t=>!!t)):n.push(i)}while(o.length&&void 0!==(i=o.pop()));return n.reverse(),n}var k,H=0;function U(){return H++}function q(t){return new Promise(e=>{var i=t.type+"_"+U();t.id=i,EE.emit("message.background.send",t),EE.on("utils.send_message_result",t=>{t.id===i&&e(t.data)})})}function M(t){if(t&&"object"!=typeof t){return[/(http|https):\/\/[\s\S]*(streamasia\.|\.bongngo\.|\.manga123\.net)[\s\S]*\/playlist\/|stream\.vltv\.xyz\/m3u8\/|apix\.gooqlevideo\.com\/player|khophim18\.net\/m3u8|iamplayer\.xyz\/stream.*\/Manifest/g,/hls\.mediacdn\.vn\/.+\/\S+\.mp4\.json/gi,/hls\.(tuoitre)\.vn\/\1\/\S+\.mp4\.json/gi,/vdrm\.vtvgiaitri\.vn\/stream/,/api(-v[0-9]*)*\.soundcloud\.com\/media\/soundcloud:tracks:[0-9]+/gi,/https:\/\/zingmp3\.vn\/api\/v2\/.+\?id=/,/^\/sequence\/(play|full)\/([a-z0-9]+)/i,/\/video\/(\d+)\/config(\?|$)/i,/key[0-9]=[0-9a-f]{32}/i,/^\/(api|get)_video_info/,/\.mp4.+?\.ts\?nimblesessionid=/,/meo\.saku\.net\/player/,/get\.gooqlevideo\.com\/player/,/streamsb\.biz\/playlist\/json\/[a-z0-9]+\/[a-z0-9]+/i,/discordapp\.com\/attachments\/\d+\/\d+\/[a-z0-9_\- ]+\.mp4/,/vidsugar\.com\/.+api\.json/i,/\-hls.*\.cuoiia\.top\/(cdn|media|hls)/,/vkvd\d*\.mycdn\.me/,/vk[a-z0-9\-]+\.vkuser\.net/i,/v\.douyu\.com\/api\/stream\/getStreamUrl/,/api\-.+\.(play|plhq)[\s\S]*\.(xyz|net|site|click|cfd|com)\/api\/.+(playiframe|getblob)/,/ssplay\.net\/[a-z0-9]{2,4}\/(\d+\/(\d+)\/[a-z0-9]+\/[a-z0-9]+|[a-z\d]+\/[a-z\d]+)/i,/\.helurl\.com\/uploads\/.+filename/i,/((smutr\.com)|(cdnka\.net))\/remote_control\.php?.+&file=.+\.(mp4|m3u8)/i,/\.video-delivery\.net/i,/\.asiaplayer\.site\/m3u8\/.+\/[a-z0-9]+\/master\.txt/i,/.+\.play[\s\S]*(xyz|net)\/(m3u8|hls)/i,/.+\.plhqtv[\s\S]*(xyz|net)\/(type1rdv3)/i,/v[0-9]*\.sanstream\.xyz\/video\/.*\/master.html\?.*/i,/cdn.+\/segment.+\/?token.+/i,/helvid\.([a-z0-9]+)\/hash.php\?.+/i,/southeastasia1-mediap.svc.ms\/.+\/videomanifest/i,/cdn\.animevui\.[a-z]+\/file/i,/\.xyz\/cdn\/hls\/.+\/master\.txt/i,/hls\.streamcdn\.[a-z]+\/m3u8\//i,/\.streamc\.xyz\/get[a-z0-9]*\.php\?hash=/i,/\.streamc\.xyz\/getPlaylist\.php+/i,/intl-api.iq.com.+\/cache\-video\.iq\.com\/dash\?.+/i,/api\.bilibili\.com\/.+\/wbi\/playurl/i,/cdn\/hls\/[a-z0-9\-_]+\/master\.txt/i,/stream12345\.online\/video\/[a-z0-9\-_]+\/master\.html/i,/content\.vdcdn\.top\/stream\/master\.php/i,/([a-z0-9\-_]+\.)?cliphub\.[a-z0-9\.\-]+\/videos/i,/https:\/\/hls\.fasthls\.top\/media\/.+/i,/eporner\.com\/xhr\/video\/.+\?hash\=.+/i,/phimlongtieng\.net\/pmm\/[a-z0-9]+\.html/i,/video\.twimg\.com\/.+video\/(\d+)(\/pu)?\/pl\/[a-z0-9\-_]+\.m3u8/i,/syntheticvideo\..+\/sources\?videoId/i,/goplayer\.xyz\/video\/[a-z0-9\-_]+\/(master|playlist)\./i,/m3u8\.cloustream\.net/i].some(e=>e.test(t))}}function B(t){var e=t.title||t.filename||document.title;"subtitles"==t.type&&(e=e+" ("+(t.i18n_quality||t.quality)+")");var i="."+t.ext;return e=(e=(null==e?void 0:e.replace(/\s+/g," ").replace(/[/\\:*?"<>|\u200c\u200d]/g,"-"))+i).match(/[*~]/gi)?"_"+e.replace(/[*~]/gi,"."):e}function j(t){var e;if(!t)return null;for(var i,r=[/^https?:\/\/(?:www\.)?youtube(?:-nocookie)?(?:\.googleapis)?\.com\/(?:(?:v)|(?:embed)|(?:e))\/(?!videoseries)([^&?]+)/i,/https?:\/\/(?:www\.)?youtu\.be\/([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/.*(?:\?|&)v=([^#&?]+)/i,/https?:\/\/(?:www\.)?youtube\.com\/shorts\/(.*)$/,/^https?:\/\/music\.youtube\.com\/watch\?v=([^#&?]+)/,/^https?:\/\/m\.youtube\.com\/watch\?v=([^#&?]+)/,/youtube.*.com\/embed\/([a-z0-9\-_]+)/i,/^https?:\/\/(?:www\.)?youtube\.com\/live\/([^#&?]+)/],n=0;n<r.length;++n)if(i=t.match(r[n]))return i[1];if(t.match(/youtube\.com\/embed\/videoseries/i)&&(null===(e=document.querySelector('link[rel="canonical"]'))||void 0===e?void 0:e.href))return j(t);return null}function G(t){if(n.a.M3U8&&Object(r.C)(t.ext))return!0;var e=t.type;if(!e)return!1;var i=r.o[e],o=i&&i.extensions;return i&&-1!==o.indexOf(t.ext)}function Q(t){for(var e=0,i=r.u.length;e<i&&r.u[e]>=t;)e++;return r.u[e-1]}function V(t){var e=t.filter((function(t){return"video"===t.type&&!(!n.a.DOWNLOAD.M3U8_AUDIO&&["m3u","m3u8"].includes(t.ext))&&("object"==typeof t.url&&t.url.audioUrl||"string"==typeof t.url)})),i=[{bitrate:"128kbps",name:"Medium",qualityValue:100,itag:"140"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"22"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"37"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"38"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"45"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"46"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"84"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"85"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"101"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"102"},{bitrate:"192kbps",name:"High",qualityValue:200,itag:"172"}],r="www.youtube.com"===location.host?i:[i[0]],o=[];return e.length?(K(e).forEach((function(t){var e=t.media,n=r.map((function(t){var r=function(t,e){e=e.toLowerCase();var i=[...t],r=t.filter((function(t){return"mp4"===t.ext}));r.length&&(i=r);var n=i.filter((function(t){return t.quality&&"full hd"===t.quality.toLowerCase()})),o=i.filter((function(t){return t.quality&&"hd"===t.quality.toLowerCase()})),a=i.filter((function(t){return t.quality&&["normal","medium","standard"].includes(t.quality.toLowerCase())}));switch(e){case"high":n.length?i=n:o.length?i=o:a.length&&(i=a);break;case"medium":default:a.length?i=a:o.length?i=o:n.length&&(i=n)}var s=i.filter((function(t){return"object"==typeof t.url&&t.url.audioUrl}));s.length&&(i=s);return i[0]}(e,t.name),n=Object.assign({},r);if(n.useConverter=!0,"object"==typeof n.url&&(n.url=n.url.audioUrl,delete n.useConverter),["m3u8","m3u"].includes(n.ext)&&(n._hls=!0,delete n._isDashMPD),n.ext="mp3",n.soundOnly=!0,n.quality=t.name,n.resolution=t.bitrate,n.type="audio",n.sortValues={qualityValue:t.qualityValue},"www.youtube.com"===location.host){var o=new URLSearchParams(n.url).get("itag"),a=i.find(t=>t.itag===o)||i[0];n.resolution!==a.bitrate&&n.quality!==a.name&&(n.resolution="0kbps")}return n}));n=n.reduce((t,e)=>(t.some(t=>parseInt(t.resolution)>=parseInt(e.resolution))||(t=[]).push(e),t),[]),o=o.concat(n)})),o):o}function K(t){var e=[];return t.forEach(t=>{t.title||(t.title=t.filename);var i=t.title||t.filename,r=e.find(t=>t.title===i||t.filename===i);r?r.media.push(t):e.push({media:[t],title:i})}),e}try{k=chrome.i18n.getMessage||(()=>"")}catch(t){k=()=>""}var F=k,Y=(t,e)=>t.type===e.type&&("string"!=typeof t.url&&"string"!=typeof e.url?t.url.videoUrl==e.url.videoUrl:t.url===e.url),W=e=>{var i;return(e=null!==(i=null!=e?e:t.tab_url)&&void 0!==i?i:window.location.href).match(/^https:\/\/(www\.)?tiktok\.com/)},z=t=>t?t.replaceAll(/[^aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ0-9\s\,\.\<\>\/\?\;\:\'\"\!\@\#\$\%\^\&\*\(\)\-\_\+\=\\\|]/g,"").replaceAll(/\s+/g," "):t,X=(t,e,i)=>{var r=e.timeout;return delete e.timeout,r?(i=null!=i?i:new AbortController,setTimeout(()=>i.abort(),r),fetch(t,Object.assign({signal:i.signal},e))):fetch(t,e)},$=t=>new Promise(e=>setTimeout(e,t));function J(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return e}}function Z(t,e,i){return e.forEach(e=>{("function"==typeof i&&i(e,t)||t.includes(e))&&t.push(e)}),t}class tt{static get(t){return new Promise(e=>{chrome.storage.local.get(t,t=>{e(t)})})}}function et(t){"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,20)}function it(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(window.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(i)}function rt(t){return t.trim().replace("www.","").replace(/^https?:\/\//i,"")}function nt(t){try{return t<=9?"0"+t:""+t}catch(t){return"00"}}function ot(t){var e=t.split(".");return Number(e.map(t=>nt(Number(t))).join(""))}function at(t){var e=t.getFullYear(),i=t.getMonth(),r=t.getDate();return parseInt(`${e}${nt(i)}${nt(r)}`)}function st(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(r){clearTimeout(e),e=setTimeout(()=>{t(r)},i)}}function lt(t){var e=new Date(t),i=new Date(Date.now());return e.getDate()==i.getDate()&&e.getMonth()==i.getMonth()&&e.getFullYear()==i.getFullYear()}function ct(t){var e=lt(t),i=(new Date(Date.now()).setHours(0,0,0,0)-new Date(t).setHours(0,0,0,0))/86400/1e3==1;return!e&&i}function ut(){var t,e;return!!(null===(e=null===(t=null===window||void 0===window?void 0:window.matchMedia)||void 0===t?void 0:t.call(window,"(prefers-color-scheme: dark)"))||void 0===e?void 0:e.matches)}function dt(){0}}.call(this,i(9))},1:function(t,e,i){"use strict";i.d(e,"o",(function(){return r})),i.d(e,"v",(function(){return n})),i.d(e,"w",(function(){return o})),i.d(e,"C",(function(){return a})),i.d(e,"u",(function(){return s})),i.d(e,"p",(function(){return l})),i.d(e,"t",(function(){return c})),i.d(e,"l",(function(){return u})),i.d(e,"s",(function(){return d})),i.d(e,"b",(function(){return h})),i.d(e,"x",(function(){return _})),i.d(e,"r",(function(){return p})),i.d(e,"i",(function(){return v})),i.d(e,"c",(function(){return f})),i.d(e,"k",(function(){return E})),i.d(e,"j",(function(){return m})),i.d(e,"A",(function(){return g})),i.d(e,"m",(function(){return y})),i.d(e,"h",(function(){return O})),i.d(e,"g",(function(){return T})),i.d(e,"B",(function(){return S})),i.d(e,"y",(function(){return b})),i.d(e,"z",(function(){return L})),i.d(e,"a",(function(){return I})),i.d(e,"n",(function(){return C})),i.d(e,"q",(function(){return A})),i.d(e,"e",(function(){return R})),i.d(e,"d",(function(){return P})),i.d(e,"f",(function(){return w}));var r={audio:{title:"Audio",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3.34701 16.1464C3.91819 16.7176 4.60481 17.0032 5.40688 17.0032C6.20895 17.0032 6.89558 16.7176 7.46676 16.1464C8.03792 15.5752 8.3235 14.8886 8.3235 14.0865V5.72114H16.2603V11.7404C16.0263 11.5502 15.7699 11.4076 15.491 11.3125C15.2122 11.2174 14.913 11.1699 14.5936 11.1699C13.7915 11.1699 13.1049 11.4555 12.5337 12.0267C11.9625 12.5978 11.6769 13.2845 11.6769 14.0865C11.6769 14.8886 11.9625 15.5752 12.5337 16.1464C13.1049 16.7176 13.7915 17.0032 14.5936 17.0032C15.3957 17.0032 16.0823 16.7176 16.6535 16.1464C17.2246 15.5752 17.5102 14.8886 17.5102 14.0865V5.72114V2.99683H16.6768H16.2603H7.07355V11.7404C6.83957 11.5502 6.58316 11.4076 6.30432 11.3125C6.02547 11.2174 5.72632 11.1699 5.40688 11.1699C4.60481 11.1699 3.91819 11.4555 3.34701 12.0267C2.77582 12.5978 2.49023 13.2845 2.49023 14.0865C2.49023 14.8886 2.77582 15.5752 3.34701 16.1464Z" fill="currentColor"/>\n</svg>\n',rgxp:/audio/i,extensions:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],extensions_weight:["mp3","flac","m4a","wma","ogg","wav","aif","mid","opus"],ctype2extension:{midi:"mid",mp4:"m4a",m4a:"m4a",mpeg:"mp3",mpeg3:"mp3",wav:"wav",aiff:"aif",opus:"opus"}},video:{title:"Video",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.79009 16.25C3.36914 16.25 3.01284 16.1041 2.72117 15.8125C2.42952 15.5208 2.28369 15.1645 2.28369 14.7435V5.25642C2.28369 4.83547 2.42952 4.47917 2.72117 4.1875C3.01284 3.89583 3.36914 3.75 3.79009 3.75H13.2772C13.6982 3.75 14.0545 3.89583 14.3461 4.1875C14.6378 4.47917 14.7836 4.83547 14.7836 5.25642V9.07052L17.7163 6.13785V13.8621L14.7836 10.9294V14.7435C14.7836 15.1645 14.6378 15.5208 14.3461 15.8125C14.0545 16.1041 13.6982 16.25 13.2772 16.25H3.79009ZM3.79009 15H13.2772C13.352 15 13.4135 14.9759 13.4615 14.9279C13.5096 14.8798 13.5337 14.8183 13.5337 14.7435V5.25642C13.5337 5.18162 13.5096 5.12019 13.4615 5.0721C13.4135 5.02402 13.352 4.99998 13.2772 4.99998H3.79009C3.7153 4.99998 3.65386 5.02402 3.60577 5.0721C3.55769 5.12019 3.53365 5.18162 3.53365 5.25642V14.7435C3.53365 14.8183 3.55769 14.8798 3.60577 14.9279C3.65386 14.9759 3.7153 15 3.79009 15Z" fill="currentColor"/>\n</svg>\n',rgxp:/video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},no_watermark_video:{title:"No watermark video",icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M21.53 7.15C21.378 7.06223 21.2055 7.01603 21.03 7.01603C20.8545 7.01603 20.682 7.06223 20.53 7.15L17 8.89C16.9715 8.11357 16.6429 7.37847 16.0834 6.83944C15.5238 6.3004 14.777 5.99948 14 6H5C4.20435 6 3.44129 6.31607 2.87868 6.87868C2.31607 7.44129 2 8.20435 2 9V15C2 15.7957 2.31607 16.5587 2.87868 17.1213C3.44129 17.6839 4.20435 18 5 18H14C14.777 18.0005 15.5238 17.6996 16.0834 17.1606C16.6429 16.6215 16.9715 15.8864 17 15.11L20.56 16.89C20.6963 16.9599 20.8468 16.9975 21 17C21.1872 17.0006 21.3709 16.9486 21.53 16.85C21.6741 16.7599 21.7929 16.6346 21.8751 16.4859C21.9574 16.3372 22.0003 16.1699 22 16V8C22.0003 7.83006 21.9574 7.66283 21.8751 7.51411C21.7929 7.36538 21.6741 7.24007 21.53 7.15ZM15 15C15 15.2652 14.8946 15.5196 14.7071 15.7071C14.5196 15.8946 14.2652 16 14 16H5C4.73478 16 4.48043 15.8946 4.29289 15.7071C4.10536 15.5196 4 15.2652 4 15V9C4 8.73478 4.10536 8.48043 4.29289 8.29289C4.48043 8.10536 4.73478 8 5 8H14C14.2652 8 14.5196 8.10536 14.7071 8.29289C14.8946 8.48043 15 8.73478 15 9V15ZM20 14.38L17 12.88V11.12L20 9.62V14.38Z" fill="currentColor"/></svg>',rgxp:/no watermark video/i,extensions:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","3gp","m3u8","m3u","ogv","mpd"],extensions_weight:["mp4","mpeg4","mpg","mpeg","m4v","avi","divx","mov","wmv","movie","asf","webm","flv","m3u8","m3u","3gp"],ctype2extension:{mpeg:"mp4",mp4:"mp4",m4v:"mp4","3gpp":"3gp",flv:"flv",quicktime:"mov",msvideo:"avi","ms-wmv":"wmv","ms-asf":"asf"}},subtitles:{title:"Subtitles",icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3.90869 13.6143V12.3643H11.8253V13.6143H3.90869ZM3.90869 10.2809V9.03096H16.8253V10.2809H3.90869ZM3.90869 6.94759V5.69763H16.8253V6.94759H3.90869Z" fill="currentColor"/>\n</svg>\n',rgxp:/subtitles/i,extensions:["yt_srt","srt","vtt"],extensions_weight:["yt_srt","srt","vtt"]}},n={"4320p":{i18n_label:"quality_8k_uhd",label:"8K UHD",value:1600},"3072p":{i18n_label:"quality_4k_qfhd",label:"4K QFHD",value:1400},"2160p":{i18n_label:"quality_4k_uhd",label:"4K UHD",value:1200},"2048p":{i18n_label:"quality_qhd",label:"Quad HD",value:1100},"1440p":{i18n_label:"quality_qhd",label:"Quad HD",value:1e3},"1080p":{i18n_label:"quality_fhd",label:"Full HD",value:800},"720p":{i18n_label:"quality_hd",label:"HD",value:600},"540p":{i18n_label:"quality_standard",label:"Standard",value:500},"480p":{i18n_label:"quality_standard",label:"Standard",value:500},"360p":{i18n_label:"quality_medium",label:"Medium",value:400},"320p":{i18n_label:"quality_medium",label:"Medium",value:400},"270p":{i18n_label:"quality_small",label:"Small",value:300},"240p":{i18n_label:"quality_small",label:"Small",value:200},"144p":{i18n_label:"quality_mobile",label:"Mobile",value:100}},o=["video","audio","subtitles"];function a(t){return!!t&&-1!==["m3u8","m3u","hls","zip"].indexOf(t)}var s=[4320,3072,2160,2048,1440,1080,720,540,480,360,320,270,240,144],l=[/^(.+\.)?nixcdn\.com/im,/^(.+\.)?vcmedia\.vn/i,/^(.+\.)?kenhhd\.tv/i],c=[/coccoc\.com\/sitemap\.xml/i],u=[/m\.naver\.com\/\/?shorts/i],d="hidePermanent",h="customControlFromServer",_="youtubeControls",p="otherControls",v="116.0.0.0",f=1,E=3,m=1,g="youtubeTurnOffAdblock",y="gserpSelectors",O="off",T=["animevietsub","vuighe","anime47","animehay","phimmoi","motchill","dongchill","dailymotion.com","hhpanda","bluphim","phimtuoitho","subnhanh","tvhay","phim33","hoathinh3d","phimtm","hhkungfu","motphimtv","tvphim","phimhay","xem14","animesub","hh3dhay","ghienphim","vietsub","vipphim","khophim","phimvsub","ohitv"],S="ytbViewCount",b=9,L="ytbMobileOnboardReady";class I{}I.PROMOTE_SERP={_:"promote_serp",GET:"get_promote_serp",CLOSE:"close_promote_serp"},I.ONBOARD_TRACK={GET:"get_onboard_track",SAVE:"save_onboard_track"},I.ONBOARD_IMPORTDATA="get_onboard_importdata",I.DOWNLOAD="download",I.PLAY="play_video",I.SET_FEATURE="set_feature",I.IS_SUPPORTED="is_supported",I.FRAME_TYPE="frame_type",I.FETCH="background_request",I.YOUTUBE={GET_INFO:"youtube_get_info",GET_MPD:"youtube_get_mpd_info"},I.OMNI={ACTIVE:"active_omnibox",DEACTIVE:"deactive_omnibox"},I.METRICS="metrics",I.CACHE="cache.background",I.PIP={REQUEST:"pip",INNER:"inner_frame_pip",ON:{ENTER:"inner_pip_enter",LEAVE:"inner_pip_leave"}},I.CONSOLE_LOG="console.log",I.GET_URL="get_url",I.SAVE_URL="save_url",I.GET_MATCHED_REQUESTS="get_matched_requests",I.GET_SERVER_TIME="get_server_time",I.OPEN_SEARCH_SETTINGS="open_search_engines_settings",I.SCRIPTING={INJECT:"inject_script",NOTIFY:"script_executed",EXEC:"execute_script"},I.OPEN_SETTINGS="open_settings",I.OFFSCREEN={},I.TURN_OFF_ADBLOCK_ON_YOUTUBE="turn_off_adblock_on_youtube",I.TURN_ON_ADBLOCK_ON_YOUTUBE="turn_on_adblock_on_youtube",I.GET_FASTFORWARD_ENABLED="get_ff_enabled";var C=["chrome://","coccoc://"],A=["coccoc.com/webhp","about:blank"],R=["xoilac","thapcam","cakhia","vebo","gavang","c19hcc","90phut","screenbid","socolive","luongson","xembong","livebong","bongda","caheo","soco","rakhoi","tructiepbong","antlive"],P=["anime","vuighe.org"],w=["truyen","manga","comic","manhwa","manhua","toon","ebook","novel","monkeyd","wattpad","waka.vn"]},17:function(t,e,i){"use strict";function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,r){var o=e&&e.prototype instanceof _?e:_,a=Object.create(o.prototype),s=new I(r||[]);return n(a,"_invoke",{value:T(t,i,s)}),a}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function _(){}function p(){}function v(){}var f={};c(f,a,(function(){return this}));var E=Object.getPrototypeOf,m=E&&E(E(C([])));m&&m!==e&&i.call(m,a)&&(f=m);var g=v.prototype=_.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var r;n(this,"_invoke",{value:function(n,o){function a(){return new e((function(r,a){!function r(n,o,a,s){var l=d(t[n],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(n,o,r,a)}))}return r=r?r.then(a,a):a()}})}function T(t,e,i){var r="suspendedStart";return function(n,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw o;return A()}for(i.method=n,i.arg=o;;){var a=i.delegate;if(a){var s=S(a,i);if(s){if(s===h)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var l=d(t,e,i);if("normal"===l.type){if(r=i.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r="completed",i.method="throw",i.arg=l.arg)}}}function S(t,e){var i=e.method,r=t.iterator[i];if(void 0===r)return e.delegate=null,"throw"===i&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,n(g,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,l,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new O(u(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),c(g,l,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var r in e)i.push(r);return i.reverse(),function t(){for(;i.length;){var r=i.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),L(i),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;L(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:C(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),h}},t}i.d(e,"a",(function(){return o}));var n=function(t,e,i,r){return new(i||(i=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function o(t){return n(this,void 0,void 0,r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,chrome.runtime.sendMessage(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Caught",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))}},2:function(t,e,i){"use strict";var r=i(7),n=i(1);var o=new class{constructor(){this._storage=chrome.storage.local,this._handlerMap=new Map,this._options={},this._default={skipping_ads_enable:!0,detach_enabled:!0,on_page_buttons:!0,min_stream_size:30720,prefer_last_quality:!0,last_quality:void 0,hide_play_now_tooltip:!1,hide_play_now_tooltip_bottom:!1,instant_actions_tooltip_shown:!1,instant_actions_tooltip_shown_count:0,instant_actions_button_download:!1,preferred_quality_level:r.b.DEFAULT_QUALITY_LEVEL,show_3gp_ext:!1,video_changed:!1,ADLIST_CUSTOM_RULE:{},[n.s]:[]},this.loaded=!1;var t=this;chrome.storage.onChanged.addListener((e,i)=>{var r;if("local"===i){for(var n in e)t._options[n]=e[n].newValue;for(var o in e)null===(r=this._handlerMap.get(o))||void 0===r||r.forEach(t=>t())}})}load(){var t=this;return new Promise(e=>{t._storage.get(null,i=>{t._options=i,t.loaded=!0,e(i)})})}set(t,e){var i={};i[t]=e,this._storage.set(i),this.loaded&&("string"==typeof t||"number"==typeof t&&void 0!==e)&&(this._options[t]=e)}get(t){return this.loaded&&t in this._options?this._options[t]:this._default[t]}has(t){return void 0!==this._options[t]}remove(t){delete this._options[t],this._storage.remove([t],()=>{var t=chrome.runtime.lastError;t&&console.warn("Caught",t)})}addOptionChangedListener(t,e){var i,r=null!==(i=this._handlerMap.get(t))&&void 0!==i?i:[];r.push(e),this._handlerMap.set(t,r)}};e.a=o},26:function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function a(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,i,r,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new a(i,r||t,o),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},c.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},c.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},c.prototype.emit=function(t,e,i,r,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,o),!0;case 6:return u.fn.call(u.context,e,i,r,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,_=u.length;for(c=0;c<_;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},c.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},c.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||l(this,o);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||r&&!a[s].once||i&&a[s].context!==i)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c},3:function(t,e,i){"use strict";i.d(e,"d",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"e",(function(){return u})),i.d(e,"b",(function(){return d})),i.d(e,"g",(function(){return h})),i.d(e,"c",(function(){return _})),i.d(e,"a",(function(){return p}));var r=i(1),n=i(0),o=/([^/]+)$/i,a=/\.([^/.]*)$/i;function s(t){return t&&0!==t.indexOf("data:image")?/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/\.?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t):[]}function l(t){var e="",i="";try{var r=t.split("/");e=r[0];var n=r[1].split(";")[0];switch(i=n,n){case"webm":i="video"==e?"webm":"weba";break;case"3gpp":i="3gp";break;case"3gpp2":i="3g2";break;case"ogg":i="video"==e?"ogv":"oga";break;case"mpeg":i="video"==e?"mpeg":"mp3";break;case"x-midi":i="midi";break;case"x-msvideo":i="avi";break;case"mp2t":i="ts"}return{type:e,ext:i}}catch(t){return{type:e,ext:i}}}function c(t,e){var i="object"==typeof t?t.videoUrl:t,r=new URL(i,i.startsWith("http")?void 0:location.origin),s=(r.pathname.match(o)||[])[1]||"",c=s.split(".").map(t=>t.toLowerCase());s=decodeURIComponent(s.replace(a,"")),c.shift(),0===c.length&&Object(n.isSpecialUrls)(t)&&(c=["m3u8"]);var u=c[c.length-1]||"",d=null;if(r.href.startsWith("data:")){var h=l(r.href.match(/data:([a-z]+\/[a-z0-9]+);/i)[1]);u=h.ext,d=h.type}var _={url:"object"==typeof t?t:r.href,protocol:r.protocol,host:r.host,port:r.port,pathname:r.pathname,filename:s,ext:u,exts:c,hash:r.hash,search:r.search,type:d};if(_.port||delete _.port,e){var p={};r.search.replace(/^\?/,"").split(/&/).forEach(t=>{var e=t.split("=");p[e[0]]=e[1]}),_.query=p}return"flac"==u&&(_.quality="Lossless",_.resolution="lossless"),_}function u(t){var e,i="object"==typeof t?t.videoUrl:t;if(i.startsWith("data:")){var n=i.match(/data:([a-z]+)/)[1];return["audio","video"].includes(n)?n:""}var o=(null===(e=s(i))||void 0===e?void 0:e[11])||"";if(!o)return"";var a=new Map,l=["no_watermark_video"];Object.keys(r.o).forEach(t=>{if(!l.includes(t))for(var e=r.o[t].extensions,i=0;i<e.length;i++)a.set(e[i],t)}),i.includes("googlevideo.com/videoplayback")&&"videoplayback"===o&&i.includes("mp4")&&(o="video.mp4"),i.includes("videoplayback")&&"videoplayback"===o&&i.includes("mp4")&&(o="video.mp4");var c=o.split("."),u=c.length-1;if(u<=0)return"";var d=c[u].toLowerCase();return a.get(d)}function d(t){if((t=Object.create(t)).query){for(var e in t.search=[],t.query)void 0!==t.query[e]?t.search.push(e+"="+encodeURIComponent(t.query[e])):t.search.push(e);t.search="?"+t.search.join("&"),delete t.query}return t.href}function h(t){var e=(t=t.replace(/^[#?]{1}/,"")).split("&"),i={};return e.forEach(t=>{var e=t.split("=");Object(n.defined)(e[0])&&Object(n.defined)(e[1])&&(i[e[0]]=decodeURIComponent(e[1].replace(/\+/g," ")))}),i}var _=(()=>{for(var t=["facebook.com","youtube.com","video.vnexpress.net","mp3.zing.vn","radio.zing.vn","tv.zing.vn","nhaccuatui.com","video.thethao247.vn","video.ngoisao.net","xvideos.com","phimmoi.net","clip.vn","yan.vn","xem.vn","pornhub.com","xhamster.com","dailymotion.com","xnxx.com","hdonline.vn","phim3s.net","redtube.com","phim14.net","soundcloud.com","youporn.com","vimeo.com","fptplay.net","haivn.com","chiasenhac.com","movies.hdviet.com","nhac.vui.vn","nhacso.net","anime47.com","tube8.com","talktv.vn","chatvl.info","cohet.tv","vlxx.tv","hayhaytv.vn","xemphimso.com","vivo.vn","xemvtv.net","vkool.net","chimsedinang.com","keeng.vn","vuighe.net","vetv.vn","xemphimon.com","ixxx.com","biphim.com","kenhvideo.com","videogame.vn","phim.in","voh.com.vn","phimsexporn.com","porn99.net","news.zing.vn","me.zing.vn","twitter.com","24h.com.vn","phim.clip.vn","video.ringring.vn","v.nhaccuatui.com","clip.vietnamnet.vn","afamily.vn","media.bongdaplus.vn","bongdaclip.com","gamek.vn","phapluattp.vn","hdviet.com","haiivl.com","chatvl.com","2sao.vn","videos.vietgiaitri.com","nhac.vietgiaitri.com","megafun.vn","phim.hayhd.vn","cand.com.vn","ohay.tv","phim.megabox.vn","anhtrang.org","phim.anhtrang.org","8bongda.com","xemphimone.com","bongda365.com.vn","phimhd.vn","dinotube.com","phimvipvn.net","animeax.com","phimdata.com","phimnhanh.net","vipphim.net","phimvon.com","pubvn.tv","phim22.com","phim7.com","hayxemphim.com","m-viet.com","thethaoclip.com","nhac.hay365.com","ssphim.com","phimtructuyenhd.com","xuongphim.tv","vino.vn/mp3","haivl.io","nhacvang.org","starmovies.mobi","clipvuivn.com","phimporn.com","123tv.vn","phimonlinehd.net","hai24h.net","jax.vn","kenhgioitre.net","chiaseclip.net","phim.xixam.com","bilutv.com","phimbathu.com","instagram.com","banhtv.com","txxx.com","video.vietnamnet.vn","video.bongdaplus.vn","creatives.livejasmin.com","tv.naver.com","tv.tuoitre.vn","icdrama.se","video.thanhnien.vn","spankbang.com","dmm.co.jp","v.youku.com","v.qq.com","daikynguyenvn.com","thethao247.vn","e.vnexpress.net","ione.vnexpress.net","kenh14.vn","dantri.com.vn","baomoi.com","emdep.vn","tuoitre.vn","soha.vn","video.congan.com.vn","cafef.vn","bongda.com.vn","bongdaso.com","eva.vn","danviet.vn","cliptv.vn","bbc.co.uk","edition.cnn.com","buzzfeed.com","businessinsider.com","cnet.com","dailymail.co.uk","bilutvx.net","chill123.gotdns.ch"],e={},i=0,r=t.length;i<r;++i){var n=t[i];console.assert(!(n in e),'Duplicate "'+n+'": '+e[n]+", "+i),e[n]=i+1}return function(t){for(var i=function(t){var e;return(null===(e=s(t))||void 0===e?void 0:e[6])||""}(t),r=e[i];!r&&i;){var n=i.indexOf(".")+1;if(0===n)break;i=i.substr(n),r=e[i]}return 100+(0|r)}})();function p(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t||new URL(e);if(e.includes("https")||e.includes("//"))return e.includes("http")||(e="https:"+e),e;if(i&&e.startsWith("/"))return r.origin?r.origin+e:e;var n=(r.host+r.pathname).split("/").filter(t=>!!t).slice(0,-1),o=e.split("/").filter(t=>!!t),a=o.lastIndexOf(".."),s=o.slice(0,a+1),l=o.slice(a+1);s.length>0&&(n=n.slice(0,-s.length));var c=n.indexOf(l[0]);if(-1==c)n.push(...l);else{c+=1;for(var u=1;u<l.length;++u){var d=l[u];n.includes(d)||(n[c-1]===l[u-1]?n[c]=d:n.push(d)),c+=1}}return r.protocol+"//"+n.join("/")}},35:function(t,e,i){"use strict";i.d(e,"a",(function(){return et}));var r={};i.r(r),i.d(r,"OrganicItem",(function(){return R})),i.d(r,"AdsItem",(function(){return P})),i.d(r,"InfoBoxItem",(function(){return w})),i.d(r,"SpellCheckItem",(function(){return N})),i.d(r,"FeaturedVideoItem",(function(){return D})),i.d(r,"ImageItem",(function(){return x})),i.d(r,"PeopleAlsoAskItem",(function(){return k})),i.d(r,"PeopleAlsoSearchItem",(function(){return H})),i.d(r,"RelatedSearchItem",(function(){return U})),i.d(r,"ItemDescription",(function(){return q})),i.d(r,"ItemExtension",(function(){return M})),i.d(r,"RelatedSearchItemExtension",(function(){return B})),i.d(r,"ResultReport",(function(){return j})),i.d(r,"ShoppingBlock",(function(){return G})),i.d(r,"ShoppingBlockItem",(function(){return Q}));var n=i(2),o=i(6),a=i(0),s=i(4),l=i(65),c=i(5),u=i(1);function d(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var _,p=function(t,e,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(t,i):n?n.value=i:e.set(t,i),i},v=function(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)},f=["TITLE_SELECTOR","VISIBLE_URL_SELECTOR","LINK_SELECTOR","DESC_SELECTOR"];_=new WeakMap;var E=class{constructor(t,e,i,r,o){this.TITLE_SELECTOR='h3, [aria-level="3"][role="heading"], [role="heading"]',this.VISIBLE_URL_SELECTOR="cite, a[ping] > div > span",this.LINK_SELECTOR=".r > div > a, .rc a, a[ping], div > a",this.DESC_SELECTOR='[data-content-feature="1"] > div, [jsaction] > a+div, div.IsZvec > div, div[data-content-feature="1"]+div[data-content-feature="2"], div[data-snf="nke7rc"]',_.set(this,{}),this._node=e,this._docId=r,this._coccocSerpId=localStorage.getItem("coccoc_query_id")||n.a.get("coccoc_query_id"),this._index=o;var a=n.a.get(u.m)||{};p(this,_,a,"f"),this.init(),this._data=this._extractData(e,i),this._validateAndSetDataType(t),this._attachClickHandler()}init(){var t=v(this,_,"f");t&&f.forEach(e=>{t["ORG."+e]&&(this[e]=t["ORG."+e])})}_extractData(t,e){var i,r,n,o,s,l,u,h,_,p,v,f,E,m,g,y,O,T,S,b,L,I,C,A,R,P,w,N,D,x,k,H,U,q,M,B,j,G,Q,V,K,F,Y,W,z,X,$,J,Z,tt,it,rt,nt,ot,at,st=this._guessType(),lt=Object(a.query)(this.TITLE_SELECTOR,t),ct=Object(a.query)(this.VISIBLE_URL_SELECTOR,t),ut=Object(a.query)(this.DESC_SELECTOR,t),dt=Object(a.query)(this.LINK_SELECTOR,t),ht={url:Object(a.getNodePropOrEmptyString)(dt,"href"),visibleUrl:Object(a.getNodePropOrEmptyString)(ct,"textContent"),position:e,title:Object(a.getNodePropOrEmptyString)(lt,"textContent").trim(),description:Object(a.stripTagsExcept)(Object(a.getNodePropOrEmptyString)(ut,"innerHTML")),addRawContent:""};if(this._node.matches(et.INFO_BLOCK)){var _t=et["INFO_BLOCK.HEADER"],pt=et["INFO_BLOCK.INFO"];lt=Object(a.query)(et["INFO_BLOCK.TITLE"]);var vt,ft=[],Et={header:[],infoField:[],specField:[]},mt=d(Object(a.toArray)(document.querySelectorAll(et["INFO_BLOCK.FIELD"])));try{for(mt.s();!(vt=mt.n()).done;){var gt=vt.value;""!==Object(a.getNodePropOrEmptyString)(gt,"innerText")&&"action:listen_artist"!==gt.getAttribute("data-attrid")&&"description"!==gt.getAttribute("data-attrid")&&(Object(a.getNodePropOrEmptyString)(Object(a.query)(_t),"textContent").includes(gt.textContent)?Et.header.push(gt.innerText.split("\n")[0].split(":")[0]):Object(a.getNodePropOrEmptyString)(Object(a.query)(pt),"textContent").includes(gt.textContent)?Et.infoField.push(gt.innerText.split("\n")[0].split(":")[0]):Et.specField.push(gt.innerText.split("\n")[0].split(":")[0]),ft.push(gt.innerText.split("\n")[0].split(":")[0]))}}catch(t){mt.e(t)}finally{mt.f()}ht.description=Et,ht.title=Object(a.getNodePropOrEmptyString)(lt,"innerText"),ht.url=location.href}if(this._node.matches(et["PEOPLE_ALSO_SEARCH.MATCH"])){lt=(null===(i=Object(a.query)(et["PEOPLE_ALSO_SEARCH.TITLE"],this._node))||void 0===i?void 0:i.parentElement)||null,ht.title=Object(a.getNodePropOrEmptyString)(lt,"innerText");var yt={header:"",infoField:[]};yt.infoField=Object(a.getNodePropOrEmptyString)(Object(a.query)(et["PEOPLE_ALSO_SEARCH.MATCH"],this._node),"innerText").split("\n"),yt.infoField.splice(0,1),yt.header=ht.title,ht.description=yt,ht.url=location.href}if(this._node.matches(et.QUESTION_ANSWER)){var Ot=null===(n=null===(r=this._node.querySelector(et["QUESTION_ANSWER.TITLE"]))||void 0===r?void 0:r.innerText)||void 0===n?void 0:n.trim(),Tt=null===(s=null===(o=this._node.querySelector(et["QUESTION_ANSWER.ANSWER"]))||void 0===o?void 0:o.innerText)||void 0===s?void 0:s.trim();Ot&&(ht.title=Ot,"object"!=typeof ht.description&&(ht.description={}),ht.description.header=Ot,ht.description.infoField=[Tt])}if(this._node.matches(et.SPELL_CHECKER)&&(ht.title=null===(l=this._node)||void 0===l?void 0:l.textContent),this._node.matches(et.CURRENCY_BLOCK)&&this._node.closest(".obcontainer")){var St=null===(u=this._node.querySelectorAll("input")[0])||void 0===u?void 0:u.value,bt=null===(h=this._node.querySelectorAll("input")[1])||void 0===h?void 0:h.value,Lt=null===(p=null===(_=this._node.querySelectorAll("select")[0])||void 0===_?void 0:_.selectedOptions[0])||void 0===p?void 0:p.text,It=null===(f=null===(v=this._node.querySelectorAll("select")[1])||void 0===v?void 0:v.selectedOptions[0])||void 0===f?void 0:f.text,Ct=null===(E=this._node.querySelectorAll(".hqAUc span")[0])||void 0===E?void 0:E.textContent;ht.description={sourceValue:St,desValue:bt,sourceUnit:Lt,desUnit:It,time:Ct,lang:document.documentElement.lang},ht.visibleUrl=""}if(this._node.matches(et["FLIGHTS_BLOCK.MATCH"])&&!ht.url&&(ht.url=null===(m=t.querySelector(et["FLIGHTS_BLOCK.URL"]))||void 0===m?void 0:m.getAttribute("href")),this._node.matches(et.FLIGHTS_BLOCK)&&(ht.title=null===(y=null===(g=t.querySelector(et["FLIGHTS_BLOCK.TITLE"]))||void 0===g?void 0:g.textContent)||void 0===y?void 0:y.trim()),this._node.matches(et["SHOWING_MOVIES.SEL"])&&Object(a.query)(et["SHOWING_MOVIES.INNER"],this._node)&&(ht.description={heading:null===(O=Object(a.query)(et["SHOWING_MOVIES.HEADING"]))||void 0===O?void 0:O.textContent,genre:null===(T=Object(a.query)(et["SHOWING_MOVIES.GENRE"]))||void 0===T?void 0:T.innerText.split("\n")[0]}),this._node.matches(et.SHOWTIMES_FOR_MOVIE)){var At=Object(a.query)(et["SHOWTIMES_FOR_MOVIE.TITLE"]);At&&(ht.description={movie:At.textContent,firstDate:null===(S=Object(a.query)(et["SHOWTIMES_FOR_MOVIE.FIRST_DATE"]))||void 0===S?void 0:S.textContent,lastDate:null===(b=Object(a.query)(et["SHOWTIMES_FOR_MOVIE.LAST_DATE"]))||void 0===b?void 0:b.textContent})}this._node.matches(et.FEATURED_BLOCK)&&Object(a.query)(et["FEATURED_BLOCK.VIDEO"],this._node)&&(ht.title=null===(L=Object(a.query)(et["FEATURED_BLOCK.VIDEO.TITLE"],t))||void 0===L?void 0:L.alt,ht.url=null===(I=Object(a.query)(et["FEATURED_BLOCK.VIDEO.URL"],t))||void 0===I?void 0:I.href,ht.description=""),this._node.matches(et.NEW_FEATURED_VIDEO)&&(ht.title=(null===(C=Object(a.query)(et.NEW_FEATURED_VIDEO_TITLE,t))||void 0===C?void 0:C.innerText)||"",ht.url=null===(A=Object(a.query)(et.NEW_FEATURED_VIDEO_URL,t))||void 0===A?void 0:A.href,ht.description=""),(this._node.matches(et.FEATURED_SNIPPET)||"featured_snippet"===st)&&(ht.description=(null===(R=Object(a.query)(et["FEATURED_SNIPPET.DESC"],t))||void 0===R?void 0:R.innerText.trim())||"",ht.type=st),this._node.matches(et.KNOWLEDGE_FACT)&&(ht.description=(null===(P=Object(a.query)(et["FEATURED_SNIPPET.DESC"],t))||void 0===P?void 0:P.innerText.trim())||""),"hotels"===st&&(ht.url="",ht.title=(null===(N=null===(w=this._node.querySelector(et["HOTELS_ADS.TITLE.1"])||this._node.querySelector(et["HOTELS_ADS.TITLE.2"]))||void 0===w?void 0:w.innerText)||void 0===N?void 0:N.trim())||ht.title),c.b.isVideoSERPHref(location.href)&&(ht.description=null===(D=Object(a.query)(et["SERP_VIDEO.DESC"],t))||void 0===D?void 0:D.textContent,ht.length=null===(x=Object(a.query)(et["SERP_VIDEO.LENGTH"],t))||void 0===x?void 0:x.textContent),c.a.isGGAds(location.href)&&c.a.isCocCocSerp(new URL(location.href).searchParams.get("rurl"))&&(ht.title=null===(k=Object(a.query)(this.COCCOC_TITLE_SELECTOR,t))||void 0===k?void 0:k.textContent,ht.description=null===(H=Object(a.query)(this.COCCOC_DES_SELECTOR,t))||void 0===H?void 0:H.textContent,ht.url=null===(U=Object(a.query)(this.COCCOC_LINK_SELECTOR,t))||void 0===U?void 0:U.href,ht.visibleUrl=null===(q=Object(a.query)(this.COCCOC_VISIBLE_URL_SELECTOR,t))||void 0===q?void 0:q.textContent),c.b.isYSERPHref(location.href)&&(ht.description=null===(M=Object(a.query)(et["YSERP.DESC"],t))||void 0===M?void 0:M.textContent,ht.url=null===(B=Object(a.query)(et["YSERP.URL"],t))||void 0===B?void 0:B.href,ht.thumbnail=null===(j=Object(a.query)(et["YSERP.THUMBNAIL"],t))||void 0===j?void 0:j.src,ht.uploader=null===(G=Object(a.query)(et["YSERP.UPLOADER"],t))||void 0===G?void 0:G.text,ht.length=null===(Q=Object(a.query)(et["YSERP.LENGTH"],t))||void 0===Q?void 0:Q.outerText),t.matches(et.RELATED_SEARCH_CONTAINER)&&(ht.url="");var Rt=this._findRichInfo();if(Rt.length&&(ht.extensions=Rt),t.matches(et.VIDEO_BLOCK)){var Pt=t.matches(et["VIDEO_BLOCK.IS_YOUTUBE"]);ht.title=Pt?null===(V=Object(a.query)(et["VIDEO_BLOCK.TITLE"],t))||void 0===V?void 0:V.textContent:"Videos",ht.url=Pt?null===(K=Object(a.query)("a",t.parentElement))||void 0===K?void 0:K.href:"",ht.description="",ht.extensions=[];var wt,Nt=d(Object(a.queryAll)(et["VIDEO_BLOCK.ITEM"],t));try{for(Nt.s();!(wt=Nt.n()).done;){var Dt=wt.value;ht.extensions.push({key:Pt?"ytch_rch_i":"video_bl_rch_i",value:(null===(F=Object(a.query)("a[ping]",Dt))||void 0===F?void 0:F.href)||(null===(Y=Object(a.query)("a",Dt))||void 0===Y?void 0:Y.href)})}}catch(t){Nt.e(t)}finally{Nt.f()}}if("video-box"==st&&(ht.url="",ht.visibleUrl="",ht.extensions=Array.from(t.querySelectorAll(et["VIDEO_BOX.ITEM"])).map(t=>{var e;return{type:"org_rch_i",value:t.getAttribute("data-curl")||t.getAttribute("data-surl")||(null===(e=t.querySelector("a"))||void 0===e?void 0:e.href)}})),Object(a.query)(et.MULTI_LINK,t)){ht.extensions=[];var xt,kt=d(Object(a.queryAll)(et["MULTI_LINK.ITEM"],t));try{for(kt.s();!(xt=kt.n()).done;){var Ht=xt.value,Ut={url:null===(W=Object(a.query)("a",Ht))||void 0===W?void 0:W.href,title:null===(z=Object(a.query)(et["MULTI_LINK.ITEM.TITLE"],Ht))||void 0===z?void 0:z.textContent,description:null===(X=Object(a.query)(et["MULTI_LINK.ITEM.DESC"],Ht))||void 0===X?void 0:X.textContent};Object(a.query)(et["MULTI_LINK.SUD"],t)&&(Ut.description=null===($=Object(a.query)(et["MULTI_LINK.SUD.DESC"],Ht))||void 0===$?void 0:$.textContent),ht.extensions.push({key:"multi_rch_i",value:JSON.stringify(Ut)})}}catch(t){kt.e(t)}finally{kt.f()}}if(t.matches(et.NEWS_BLOCK)){ht.extensions=[],ht.url="";var qt,Mt=d(Object(a.queryAll)(et["NEWS_BLOCK.ITEM"],t));try{for(Mt.s();!(qt=Mt.n()).done;){var Bt=qt.value,jt={url:null===(J=Object(a.query)(et["NEWS_BLOCK.ITEM.URL"],Bt))||void 0===J?void 0:J.href,title:null===(Z=Object(a.query)(et["NEWS_BLOCK.ITEM.TITLE"],Bt))||void 0===Z?void 0:Z.textContent,newspaper:null===(tt=Object(a.query)(et["NEWS_BLOCK.ITEM.NEWSPAPER"],Bt))||void 0===tt?void 0:tt.textContent,time:null===(it=Object(a.query)(et["NEWS_BLOCK.ITEM.TIME"],Bt))||void 0===it?void 0:it.textContent};ht.extensions.push({key:"multi_news_block",value:JSON.stringify(jt)})}}catch(t){Mt.e(t)}finally{Mt.f()}}return"people_also_ask"==st&&(ht.url="",ht.visibleUrl="",ht.title=(null===(nt=null===(rt=t.querySelector(et["PEOPLE_ALSO_ASK.TITLE"]))||void 0===rt?void 0:rt.innerText)||void 0===nt?void 0:nt.trim())||""),"related_search"==st&&(ht.title=(null===(at=null===(ot=t.querySelector(et["RELATED_SEARCH.TITLE"]))||void 0===ot?void 0:ot.innerText)||void 0===at?void 0:at.trim())||ht.title||""),ht}_validateAndSetDataType(t){var e=this._guessType();this._isDataValid(this._data)&&!["featured_snippet","knowledge_graph"].includes(e)?this._data.type=t:this._data.type=e,(c.b.isVideoSERPHref(location.href)||c.b.isVideoSERPHref(this._data.url))&&"organic"==this._data.type&&(this._data.type="video-serp-box"),c.a.isGGAds(location.href)&&c.a.isCocCocSerp(new URL(location.href).searchParams.get("rurl"))&&(this._data.type=this._guessType())}_isDataValid(t){return Boolean(t.title&&t.visibleUrl&&t.url&&t.description&&"string"==typeof t.description)}_attachClickHandler(){this._clickHandler=this._onClick.bind(this),location.hostname.match(/youtube\.com/i)?this._node.onmousedown=this._clickHandler:this._node.onclick=this._clickHandler}_onClick(t){var e,i,r,n,o,s,u,d,h,_=Object(a.nearestParent)(t.target,"a");if(!_){var p=Object(a.nearestParent)(t.target,"ytd-video-renderer");_=(null==p?void 0:p.querySelector("a.yt-simple-endpoint"))||null}if(_&&_.nodeType===Node.ELEMENT_NODE&&!(_.getAttribute("href")||"").trim().match(/^(#|javascript:)/)){var v=this.data.url||_.dataset.href||_.href||"",f=null===(e=_.closest("[data-serp-docid]")||_.querySelector("[data-serp-docid]"))||void 0===e?void 0:e.getAttribute("data-serp-docid");_.matches("table a.l")&&(v=_.dataset.href||v),v.includes("googleadservices.com/pagead/aclk")&&this.data.url&&(v=this.data.url);var E=_.querySelector("g-img > img[title]");E&&(v=E.title),c.b.isGGAdsOnCocCoc(location.href)&&(v=(null===(i=t.target)||void 0===i?void 0:i.parentNode).querySelector('a[aria-label*="http"]')?null===(o=null===(n=null===(r=t.target)||void 0===r?void 0:r.parentNode)||void 0===n?void 0:n.querySelector('a[aria-label*="http"]'))||void 0===o?void 0:o.ariaLabel:null===(h=null===(d=null===(u=null===(s=t.target)||void 0===s?void 0:s.parentNode)||void 0===u?void 0:u.nextElementSibling)||void 0===d?void 0:d.querySelector('a[aria-label*="http"]'))||void 0===h?void 0:h.ariaLabel),Object(l.default)().triggeResultClicked(),this._reportClick(v,this.data.title,this.data.type,c.a.isGGAds(location.href)&&this._coccocSerpId?this._coccocSerpId:void 0,f)}return!0}_reportClick(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,n={serpId:(arguments.length>4?arguments[4]:void 0)||this._docId,itemIndex:this._index,timestamp:Date.now(),url:t};if(r&&(n.coccocSerpId=r),o.a.CUSTOM_METRICS_JSON){var a=Object.assign({},n);a.type=c.b.isGGAdsOnCocCoc(location.host)?"coccocserp":"serp",a.timestampMs=a.timestamp,a.version=dt.VERSION,a.title=e,a.itemType=i,delete a.timestamp,s.a.log("recordCustomData",[{key:"savior_serp_click",value:JSON.stringify(a)}])}}_guessType(){var t,e;if(c.b.isGGAdsOnCocCoc(location.href)){if(null===(t=new URL(location.href).searchParams.get("cont"))||void 0===t?void 0:t.match(/search__ggsense_top/g))return"top-ad";if(null===(e=new URL(location.href).searchParams.get("cont"))||void 0===e?void 0:e.match(/search__ggsense_bottom/g))return"bottom-ad"}if(this._node.matches(et.INFO_BLOCK))return"info_box";if(this._node.matches(et.QUESTION_ANSWER))return"core_answer";if(this._node.matches(et.PEOPLE_ALSO_SEARCH))return"people_also_search";if(this._node.matches(et.PEOPLE_ALSO_ASK))return"people_also_ask";if(this._node.matches(et.SPELL_CHECKER))return"spell_check";if(this._node.matches(et.NEW_FEATURED_VIDEO))return"featured_video";if(this._node.matches(et.FEATURED_BLOCK)){if(Object(a.query)(et["FEATURED_BLOCK.VIDEO"],this._node))return"featured_video";if(Object(a.query)(et["FEATURED_BLOCK.KG"],this._node))return"knowledge_graph"}if(Object(a.query)(et.FEATURED_SNIPPET,this._node)||this._node.matches(et.FEATURED_SNIPPET))return"featured_snippet";if(this._node.matches(et.KNOWLEDGE_FACT))return"knowledge_graph";if(this._node.matches(et.FLIGHTS_BLOCK))return"flights";if(Object(a.query)(et.BOOK_HOTELS,this._node)||this._node.matches(et.BOOK_HOTELS))return"book_hotels";if(this._node.matches(et.CURRENCY_BLOCK)&&this._node.closest(et.CURRENCY_BLOCK_CONTAINER))return"currency_converter";if(Object(a.query)("#tads")||Object(a.query)("#bottomads")){var i=this._node;if(i.querySelector(et.HOTELS_ADS))return"hotels";for(;i.parentNode;){if(i.matches("#tads"))return"top-ad";if(i.matches("#bottomads, #tadsb"))return"bottom-ad";i=i.parentNode}}return this._node.matches(et.FEATURED_IMAGES)?"image":this._node.matches(et["SHOWING_MOVIES.SEL"])&&Object(a.query)(et["SHOWING_MOVIES.INNER"],this._node)&&!Object(a.query)(et["SHOWING_MOVIES.EXCLUDE"],this._node)?"showing-movies":this._node.matches(et.SHOWTIMES_FOR_MOVIE)?"showtimes-for-movie":this._node.matches(et.SHOWTIMES_AT_CINEMA)?"showtimes-at-cinema":this._node.matches(et.RELATED_SEARCH_CONTAINER)?"related_search":c.b.isYSERPHref(location.href)?"video-yserp-box":this._node.matches(et.VIDEO_BOX)?"video-box":this._node.matches(et.NEWS_BLOCK)?"news-block":this._node.matches(et.IMAGE_NODE_MATCHES)?"image":this._node.matches(et.ORGANIC_FALLBACK)?"organic":"unknown"}destroy(){this._node.removeEventListener("click",this._clickHandler),this._node=null,this._data=null}get data(){return this._data}renderToConsole(){var t=this.data.type;"top-ad"===t||"bottom-ad"===t?console.log("%d. %c%s%c %s",this._index,"font-size:16px;font-family:arial,sans-serif;padding: 0 3px;background-color:#efc439;color:#fff;",this.data.type,"font-size:18px;font-family:arial,sans-serif;color:#1a0dab;",this.data.title):console.log("%d. [%s] %c%s",this._index,t,"color:#1a0dab; font-size:18px;font-family:arial,sans-serif;",this.data.title),console.groupCollapsed(this.data.visibleUrl),console.log("%curl: %c%s","font-weight:bold;","font-weight:normal",this.data.url),console.log("%cpos: %c%d","font-weight:bold;","font-weight:normal",this.data.position),console.groupEnd(this.data.visibleUrl),console.log("%c%s\n\n","color:#545454; font-size:13px; font-family:arial,sans-serif;",this.data.description)}_findRichInfo(){var t=[];if("book_hotels"==this._guessType())return[];var e=this._node.querySelector(et.RATING_ITEM);e&&e.innerText&&t.push({key:"org_rch_t",value:e.innerText.trim()});var i=Array.from(this._node.querySelectorAll(et.VIDEO_INFO_ITEM));i.length&&i.forEach(e=>{var i;if(!e.closest(et["VIDEO_INFO_ITEM.DROPDOWN"])){var r="A"==e.nodeName?e:e.closest("a[href]")||e.parentElement,n=r.innerText;if(!n){var o=r.querySelector("img");n=o&&o.alt?o.alt:(null===(i=r.closest("[aria-label]"))||void 0===i?void 0:i.getAttribute("aria-label"))||""}t.push({key:"org_rch_i",value:n.trim()})}});var r=this._node.querySelectorAll(et.LINK_ITEM);r&&Array.from(r).forEach(e=>{e.innerText&&t.push({key:"org_rch_l",value:e.innerText.trim()})});var n=this._node.querySelectorAll(et.MULTI_LINK_ITEM);if(n.length&&n.forEach(e=>{t.push({key:"multi_rch_i",value:e.href||""}),e.dataset.href=e.href}),this._node.matches(et.PEOPLE_ALSO_ASK)&&Array.from(this._node.querySelectorAll(".g")).forEach(e=>{var i=e.querySelector("a");t.push({key:"url",value:(null==i?void 0:i.href)||""})}),this._node.matches(et.RELATED_SEARCH_CONTAINER)){var o=this._node.querySelectorAll(et.RELATED_SEARCH_ITEM);t.push(...Array.from(o).map(t=>({key:"org_related_q",query:t.innerText})))}if(this._node.matches(et.PEOPLE_ALSO_SEARCH)){var s=Array.from(this._node.parentElement.querySelectorAll(et["PEOPLE_ALSO_SEARCH.ITEM"]));t.push(...s.map(t=>({key:"org_rch_i",value:t.title||t.innerText})).filter(e=>!t.find(t=>t.value==e.value&&t.key==e.key)))}if(this._node.matches(et.QUESTION_ANSWER)){var l=Array.from(this._node.querySelectorAll(et["QUESTION_ANSWER.IMAGE"]));t.splice(0,t.length,...l.map(t=>({value:t.src,key:"org_rch_i"})))}var c=Object(a.query)(et.FEATURED_SNIPPET,this._node);if(c){var u=Array.from(Object(a.queryAll)(et["FEATURED_SNIPPET.ITEM"],c));u.length&&t.push({key:"org_list",items:u.map(t=>t.innerText),userAgent:navigator.userAgent})}return t}},m=["DESC_SELECTOR","VISIBLE_URL_SELECTOR","LINK_SELECTOR","NOT_RAW_CONTENT_SELECTOR","TITLE_SELECTOR","COCCOC_DES_SELECTOR","COCCOC_VISIBLE_URL_SELECTOR","COCCOC_LINK_SELECTOR","COCCOC_TITLE_SELECTOR"];var g=class extends E{init(){this.DESC_SELECTOR='.ads-creative, .mnr-c > hr[class] + div > div, div > [data-text-ad] > div > span + div + div, div > div > div div[data-snf="nke7rc"]',this.VISIBLE_URL_SELECTOR="a div:nth-child(3) span:nth-child(2), [data-dtld]",this.LINK_SELECTOR='.ads-fr a, a[data-rw*="https://www.google.com"], a[data-rw*="https://www.googleadservices.com/pagead/"], a[href*="google.com/aclk"]',this.NOT_RAW_CONTENT_SELECTOR="h3, .ads-visurl, .ads-creative",this.TITLE_SELECTOR='h3, [aria-level="3"][role="heading"]',this.COCCOC_DES_SELECTOR="div+div+div",this.COCCOC_VISIBLE_URL_SELECTOR="div+div > a",this.COCCOC_LINK_SELECTOR="div > a",this.COCCOC_TITLE_SELECTOR="div";var t=n.a.get(u.m);t&&m.forEach(e=>{t["ADS."+e]&&(this[e]=t["ADS."+e])})}_extractAdditionalContent(){var t="";return Array.from(this._node.children).forEach(e=>{e.matches(this.NOT_RAW_CONTENT_SELECTOR)||(t+=e.outerHTML+"\n")}),t}_extractData(t,e){return super._extractData(t,e)}},y=["IMAGE_NODE_SELECTOR","IMAGE_TITLE","SEARCH_BLOCKS_SELECTOR"];var O=class extends E{constructor(t,e,i,r,n){super(t,e,i,r,n)}init(){this.IMAGE_NODE_SELECTOR='#search g-section-with-header #iur, image-viewer-group, #islrg > div > div[data-hveid], #kp-wp-tab-cont-overview .TzHB6b.cLjAic:has(#media_result_group, g-scrolling-carousel) .gsrt + div, #rcnt [data-ly="/desktop_layout/THHS"] .QejDDf.WVVXpe .QJ1ykf.SwuGKe, #rso #iur',this.IMAGE_TITLE="h3 > a, a[href]",this.SEARCH_BLOCKS_SELECTOR="#ires .g";var t=n.a.get(u.m);t&&y.forEach(e=>{t["IMAGE."+e]&&(this[e]=t["IMAGE."+e])})}_validateAndSetDataType(t){if(this._node.matches(this.IMAGE_NODE_SELECTOR))if(c.b.isImageSERPHref(location.href)){var e=Object(a.query)("a:last-child",this._node);this._data.type="image-serp-box",this._data.title=Object(a.getNodePropOrEmptyString)(e,"title"),this._data.url=Object(a.getNodePropOrEmptyString)(e,"href"),this._data.extensions=this._extractImageTitles()}else{var i=Object(a.query)(this.IMAGE_TITLE,this._node.previousElementSibling||this._node)||this._node.previousSibling||Object(a.query)(this.IMAGE_TITLE,this._node);this._data.type=t,this._data.title=Object(a.getNodePropOrEmptyString)(i,"textContent"),this._data.url=Object(a.getNodePropOrEmptyString)(i,"href"),this._data.extensions=this._extractImageTitles()}else this._data.type="unknown"}_extractImageTitles(){var t=Array.from(this._node.querySelectorAll("img"));if(t[0].title)return t.filter(t=>t.title).map(t=>({key:"img_bl_i_t",value:t.title}));if(t.length){var e=t.map(t=>t.alt||t.title).filter(t=>t);if(e.length)return e.map(t=>({key:"img_bl_i_t",value:t}))}return(t=Array.from(this._node.querySelectorAll("div[data-lpage]"))).filter(t=>t.getAttribute("data-lpage")).map(t=>({key:"img_bl_i_t",value:t.getAttribute("data-lpage")}))}};function T(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var b=["LINK_SELECTOR","LINK_MAP","INFO_BOX_HEADING","POI_TOP","POI_SIDE"],L=t=>"POI."+t;var I=class extends E{constructor(t,e,i,r,n){super(t,e,i,r,n)}init(){this.LINK_SELECTOR='a[tabindex="0"]',this.LINK_MAP='#lu_map, img[data-bsrc^="/maps"], a g-img',this.INFO_BOX_HEADING='[role="heading"] [data-original-name]',this.POI_TOP='#rso div.xERobd, #rso>div>div:has(a[href*="rllag="])',this.POI_SIDE="#rhs #media_result_group",this.__SELECTOR={WEB_NODE:"#rhs div.IzNS7c.duf-h .ab_button",CATEGORY_NODE:"#rhs div.fYOrjf.iB08Xb.kp-hc > div:nth-child(3) > div > span:nth-child(2)",OTHER_INFO:"[data-attrid]",TITLE_NODE:".kno-ecr-pt",ARRAY_POI:".rllt__link .rllt__details",TOP_POI_TITLE:".desktop-title-content"};var t=n.a.get(u.m);if(this.POI_SIDE_MAP=(null==t?void 0:t.POI_SIDE_MAP)||"#lu_map",t){b.forEach(e=>{var i=L(e);t[i]&&(this[e]=t[i])});this.__SELECTOR;Object.keys(this.__SELECTOR).forEach(e=>{this.__SELECTOR[e]=t[L(e)]})}this.sidePoiObject={title:"",geo:{lat:0,lon:0},infor:[]}}_validateAndSetDataType(t){var e,i,r=this._node.querySelector(this.LINK_MAP);if(r)if(this._node===document.querySelector(this.POI_SIDE)){this._data.description={},this._data.type="poi-side";var n=(null===(e=document.querySelector(this.POI_SIDE_MAP))||void 0===e?void 0:e.parentNode).dataset.url,o=(null==n?void 0:n.includes("@"))?n.split("@")[1].split("/")[0].split(","):[];o.length>=1&&(this.sidePoiObject.geo.lat=o[0],this.sidePoiObject.geo.lon=o[1]);var a=this._node.querySelectorAll(this.__SELECTOR.WEB_NODE);a.length>0&&this.sidePoiObject.infor.push({title:"website",value:a[0].getAttribute("href")});var s=document.querySelector(this.__SELECTOR.CATEGORY_NODE);s&&this.sidePoiObject.infor.push({title:"category",value:s.textContent});var l,u=T(document.querySelectorAll(this.__SELECTOR.OTHER_INFO));try{for(u.s();!(l=u.n()).done;){var d=l.value.innerText;d&&this.sidePoiObject.infor.push({title:d.split("\n")[0].split(":")[0],value:d.split("\n")[1]||d.split(":")[1]})}}catch(t){u.e(t)}finally{u.f()}var h=this._node.querySelector(this.POI_SIDE_MAP);this.sidePoiObject.title=(null==h?void 0:h.title)||(null===(i=null==h?void 0:h.querySelector("img"))||void 0===i?void 0:i.alt),this._data.title=this.sidePoiObject.title,this._data.description=this.sidePoiObject}else{var _=r.parentNode;this._data.url=Object(c.c)(_,"href"),!this._data.url&&_.dataset.url&&"undefined"!==_.dataset.url&&(this._data.url=document.location.origin+_.dataset.url),this._data.type=t;var p=this._node.querySelector(this.__SELECTOR.TITLE_NODE);p&&(this._data.title=p.innerText);var v=this._node.querySelectorAll(this.__SELECTOR.ARRAY_POI),f=this._node.querySelector(this.__SELECTOR.TOP_POI_TITLE);if(v.length){var E,m=[],g=T(v);try{for(g.s();!(E=g.n()).done;){var y=E.value;m.push((y.innerText||"").split("\n")[0])}}catch(t){g.e(t)}finally{g.f()}this._data.title=m}f&&(this._data.title=f.innerText||"")}}},C={"top-ad":g,"bottom-ad":g,image:O,"poi-serp":I,"poi-side":I};var A=class{constructor(t,e,i,r,n){return new(C[t]||E)(t,e,i,r,n)}},R={description:{type:"string"},extensions:{type:"Array<ItemExtension>",optional:!0},title:{type:"string"},type:{type:"string"},url:{type:"string"},visibleUrl:{type:"string"}},P={description:{type:"string"},extensions:{type:"Array<ItemExtension>",optional:!0},title:{type:"string"},type:{type:"string"},url:{type:"string"},visibleUrl:{type:"string"}},w={description:{type:"ItemDescription"},extensions:{type:"Array<ItemExtension>"},title:{type:"string"},type:{type:"string"},url:{type:"string"},visibleUrl:{type:"string",optional:!0}},N={description:{type:"string",optional:!0},extensions:{type:"Array<ItemExtension>",optional:!0},title:{type:"string"},type:{type:"string"},url:{type:"string",optional:!0},visibleUrl:{type:"string",optional:!0}},D={description:{type:"string",optional:!0},extensions:{type:"Array<ItemExtension>",optional:!0},title:{type:"string"},type:{type:"string"},url:{type:"string",optional:!0},visibleUrl:{type:"string",optional:!0}},x={description:{type:"string",optional:!0},extensions:{type:"Array<ItemExtension>"},title:{type:"string"},type:{type:"string"},url:{type:"string",optional:!0},visibleUrl:{type:"string"}},k={description:{type:"string",optional:!0},extensions:{type:"Array<ItemExtension>"},title:{type:"string",optional:!0},type:{type:"string"},url:{type:"string",optional:!0},visibleUrl:{type:"string",optional:!0}},H={description:{type:"string",optional:!0},extensions:{type:"Array<ItemExtension>",optional:!0},title:{type:"string"},type:{type:"string"},url:{type:"string"},visibleUrl:{type:"string",optional:!0}},U={description:{type:"string",optional:!0},extensions:{type:"Array<RelatedSearchItemExtension>"},title:{type:"string"},type:{type:"string"},url:{type:"string",optional:!0},visibleUrl:{type:"string",optional:!0}},q={header:{type:"Array<string>",empty:!0},infoField:{type:"Array<string>",empty:!0},specField:{type:"Array<string>"}},M={type:{type:"string"},value:{type:"string"}},B={type:{type:"string"},query:{type:"string"}},j={domain:{type:"string"},id:{type:"string"},items:{type:"Array<OneOf>",values:[R,P,w,N,D,x,k,H,U]},language:{type:"string"},referer:{type:"string"},searchQuery:{type:"string"},searchStart:{type:"number"},timestampMs:{type:"number"},type:{type:"string"},version:{type:"number"},shoppingBlock:{type:"ShoppingBlock",optional:!0}},G={items:{type:"Array<ShoppingBlockItem>"},links:{type:"Array<string>"},type:{type:"OneOf",values:["top","left"]}},Q={distribution:{type:"string"},image:{type:"string"},link:{type:"string"},position:{type:"number"},price:{type:"Array<string>"},product_name:{type:"string"}},V=["string","number","boolean"];function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,i=Object.keys(e).map(i=>{var n=e[i],o=t[i],a=typeof t[i];if("undefined"===a&&n.optional)return null;if(V.includes(n.type))return a!==n.type?{[i]:"Type not match"}:null;if("OneOf"===n.type)return F(o,n)?{[i]:"Value not allowed"}:null;var s=n.type.match(/Array<([a-z]+)>/i);if(null==s?void 0:s.length){var l=s[1];if(!Array.isArray(t[i]))return{[i]:"Should be "+n.type};if("OneOf"===l){var c=JSON.parse(JSON.stringify(n));c.type=l;var u=t[i].map((t,e)=>F(t,c)?{[`${i}[${e}]`]:{msg:"Value not allowed",detail:t}}:null).filter(Boolean);return u.length?{[i]:u}:null}if(r[l]){var d=t[i].map((t,e)=>K(t,r[l])?{[`${i}[${e}]`]:{msg:"Value not matched",detail:t}}:null).filter(Boolean);return d.length?{[i]:d}:null}}var h=r[n.type],_=K(t[i],h);return(null==_?void 0:_.length)?null:{[i]:_}}).filter(Boolean);return(null==i?void 0:i.length)?i:null}function F(t,e){return e.values.some(e=>"object"==typeof e?!K(t,e):e===t)?null:"Value not allowed"}function Y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function W(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(i),!0).forEach((function(e){z(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function z(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function X(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,Z(t,e,"get"))}function J(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Z(t,e,"set"),i),i}function Z(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}const tt=i(82).any,et={NOT_SERP_NODES_SELECTOR:'hr, #search div[data-it="rq"] div.g, .pla-unit',IMAGE_NODE_SELECTOR:'#search g-section-with-header #iur, #islrg > div > div[data-hveid], #kp-wp-tab-cont-overview .TzHB6b.cLjAic:not(:has(.related-question-pair)):has(#media_result_group, g-scrolling-carousel) .gsrt + div, #rcnt [data-ly="/desktop_layout/THHS"] .QejDDf.WVVXpe .QJ1ykf.SwuGKe, #rso #iur',IMAGE_NODE_MATCHES:"#kp-wp-tab-cont-overview .TzHB6b.cLjAic:not(:has(.related-question-pair)):has(#media_result_group, g-scrolling-carousel)",SEARCH_BLOCKS_SELECTOR:".g",SEARCH_BLOCKS_FILTER_SELECTOR:".g .g",SEARCH_RESULT_GROUP:".srg",ORGANIC_FALLBACK:"div.g",FILTER_SELECTOR_PP_ALSO_SEARCH:".g > .kp-blk, #rso > div > .g > .kp-wholepage",FILTER_SELECTOR_PP_ALSO_ASK:'#search div[data-it="rq"] .g, #search div[data-initq] .g',FEATURED_VIDEO:'#wp-tabs-container > div:first-child, .kp-wholepage .osrp-blk:not(:has(#kp-wp-tab-cont-AIRFARES)) .LMRCfc:not(.K7khPe):not(:has([data-attrid="kc:/film/film:showtimes"])):not(:has(g-section-with-header))',NEW_FEATURED_VIDEO:'#rcnt .M8OgIe div:has(>a[data-attrid="VisualDigestVideoResult"])',NEW_FEATURED_VIDEO_TITLE:".CVouqc, .ZG9HRe.cHaqb",NEW_FEATURED_VIDEO_URL:"a",FEATURE_SNIPPET:"#rso .g-blk > .kp-blk > .xpdopen:not(:has(.obcontainer))",FEATURED_SNIPPET:'.webanswers-webanswers_table__webanswers-table:has(a[href*="featured_snippet"]), .xpdopen:has(a[href*="featured_snippet"]), .g-blk:has(a[href*="featured_snippet"])',"FEATURED_SNIPPET.DESC":'[data-attrid="wa:/description"], [data-attrid^="kc:/"]',"FEATURED_SNIPPET.ITEM":"ul li",FEATURED_BLOCK:"#wp-tabs-container div, #kp-wp-tab-cont-overview div, .kp-wholepage .osrp-blk div, .kp-wholepage-osrp .osrp-blk:not(:has(#kp-wp-tab-overview)) div","FEATURED_BLOCK.VIDEO":"div.twQ0Be","FEATURED_BLOCK.KG":".kno-rdesc","FEATURED_BLOCK.VIDEO.TITLE":"a img","FEATURED_BLOCK.VIDEO.URL":"a",FEATURED_IMAGES:'#rcnt #Odp5De:not(:has([data-attrid*=":sideways"])), #rcnt [data-ly="/desktop_layout/THHS"] .QejDDf.WVVXpe .QJ1ykf.SwuGKe, #rso #iur',FEATURED_TOP_BLOCK:"#rcnt #Odp5De:not(:has(.xpdopen))",POI_SERP_SELECTOR:"#rso > div > div[data-hveid]:not(#flun) > div[jsl]",POI_TOP_SERP_SELECTOR:'#rso div.xERobd, #rso>div>div:has(a[href*="rllag="]), #rcnt #Odp5De:has(a[href*="rllag="]), #rcnt #Odp5De:has(a[href*="rflfq="]), #rso>div>div:has(a[href*="rflfq="])',POI_SIDE_SELECTOR:"#rhs #media_result_group",POI_SIDE_MAP:"#lu_map",SPELL_CHECKER_SELECTOR:"#fprs #fprsl",SPELL_CHECKER:"p#fprs > span:nth-child(1) + a, p.gqLncc > span:nth-child(1) + a",CURRENCY_BLOCK_CONTAINER:".obcontainer",CURRENCY_BLOCK:'.obcontainer div[id*="knowledge-currency"]:first-child, .obcontainer a[href*="help/currency"]',HOTELS_BLOCK_SCRAPE:"#rso .MjjYud .zd2Jbb, #rso .MjjYud .fPmcEc",BOOK_HOTELS:'div[data-base-link-to-immersive^="/travel/"]',HOTELS_ADS:'[data-async-context-required*="hotel_dates"] g-scrolling-carousel',"HOTELS_ADS.TITLE.1":'[role="heading"][aria-level="2"]>div',"HOTELS_ADS.TITLE.2":'[role="heading"][aria-level="2"]',NEWS_BLOCK:"#rso g-section-with-header[data-hveid]","NEWS_BLOCK.ITEM":"div[data-ved]","NEWS_BLOCK.ITEM.URL":"a[jsname]","NEWS_BLOCK.ITEM.TITLE":'div[style="-webkit-line-clamp:2"]',"NEWS_BLOCK.ITEM.NEWSPAPER":"g-img+span","NEWS_BLOCK.ITEM.TIME":'[style*="left"][style*="bottom"]',INFO_BLOCK:'#rhs > div.liYKde.g, #rhs #rhsads + div:has(div[data-attrid^="kc:/"]), #rhs>div.LMRCfc:has(div[data-attrid^="kc:/"])',"INFO_BLOCK.HEADER":"div.kp-header","INFO_BLOCK.INFO":"div.SALvLe.farUxc.mJ2Mod","INFO_BLOCK.TITLE":'[data-attrid="title"]',"INFO_BLOCK.FIELD":"[data-attrid]",FLIGHTS_BLOCK:'#rso div[jscontroller="es75Cc"]',"FLIGHTS_BLOCK.MATCH":"#wp-tabs-container > div.cLjAic","FLIGHTS_BLOCK.URL":".r > a, a","FLIGHTS_BLOCK.TITLE":"h3",PEOPLE_ALSO_ASK:'#search .TzHB6b.cLjAic:has(div[data-initq], div[data-it="rq"]), #search div:has(>div[data-initq], >div[data-it="rq"])',"PEOPLE_ALSO_ASK.TITLE":'[role="heading"]',PEOPLE_ALSO_SEARCH:'#kp-wp-tab-cont-overview div:first-child[data-reltype="sideways"], #kp-wp-tab-overview div:first-child[data-reltype="sideways"], .kp-blk .xpdopen div:first-child[data-reltype="sideways"], .xpdopen div.kp-header+div[data-attrid*=":sideways"], div.TzHB6b.Hwkikb.WY0eLb.jHARG.gyswkf [data-attrid*=":sideways"], #kp-wp-tab-overview .sATSHe .M7lz2c.XC18Gb.diAzE, div.TzHB6b.Hwkikb.WY0eLb.gyswkf .sATSHe .M7lz2c.XC18Gb.diAzE, div.TzHB6b.Hwkikb.WY0eLb.gyswkf .sATSHe:has(.IPpbe .MBdbL), #rcnt #Odp5De [data-attrid*=":sideways"]',"PEOPLE_ALSO_SEARCH.MATCH":'[data-attrid*=":sideways"]',"PEOPLE_ALSO_SEARCH.TITLE":'[data-attrid*=":sideways"] a',"PEOPLE_ALSO_SEARCH.ITEM":'table.nrgt a.l[href], [role="listitem"]:has(a[href])',SHOWING_MOVIES:'#appbar div#extabar div[role="navigation"], #appbar #tU52Vb:not(:has(a[href^="/setprefs"]))',"SHOWING_MOVIES.SEL":'#appbar div#extabar div[role="navigation"], #appbar #tU52Vb',"SHOWING_MOVIES.INNER":"#lx_ctls","SHOWING_MOVIES.EXCLUDE":"#lx_ctls + div > a","SHOWING_MOVIES.HEADING":"#lx_ctls + div","SHOWING_MOVIES.GENRE":"#lx_ctls > .lx_ctl",SHOWTIMES_AT_CINEMA:"#res span div[data-screening-tickets-async]",SHOWTIMES_FOR_MOVIE:'#rso #kp-wp-tab-cont-FilmTicket #kp-wp-tab-FilmTicket div[data-attrid*="kc:/film/film:showtimes"] div[data-screening-tickets-async]',"SHOWTIMES_FOR_MOVIE.TITLE":'span[aria-level="1"][role="heading"]',"SHOWTIMES_FOR_MOVIE.FIRST_DATE":"g-tabs a","SHOWTIMES_FOR_MOVIE.LAST_DATE":"g-tabs a:last-child",RELATED_SEARCH_CONTAINER:"#botstuff #bres, #kp-wp-tab-overview>.TzHB6b.cLjAic:has(+.yi8zHf):not(:has(g-section-with-header))",RELATED_SEARCH_ITEM:' a[data-xbu="true"][href], a[href^="/search"]',"RELATED_SEARCH.TITLE":'.kfsfbe [role="heading"]',YSERP:"#contents > ytd-video-renderer, #contents > yt-lockup-view-model","YSERP.DESC":"#description-text, yt-formatted-string","YSERP.URL":"a#video-title, h3 a","YSERP.THUMBNAIL":"#thumbnail img","YSERP.UPLOADER":"#channel-name a","YSERP.LENGTH":"ytd-thumbnail-overlay-time-status-renderer",VIDEO_BLOCK:"div.MGqjK, div.uVMCKf, div[data-hveid] > div + g-scrolling-carousel[data-ss][data-restore]","VIDEO_BLOCK.IS_YOUTUBE":"div[data-hveid] > div + g-scrolling-carousel[data-ss][data-restore]","VIDEO_BLOCK.TITLE":"a h3","VIDEO_BLOCK.ITEM":".VibNM, .RzdJxc, g-scrolling-carousel g-inner-card",VIDEO_BOX:'#rcnt #Odp5De:not(:has([data-attrid*=":sideways"])), #rcnt [data-ly="/desktop_layout/THHS"] .QejDDf.WVVXpe .QJ1ykf.SwuGKe, #rso #iur, .MjjYud .vtSz8d:has([data-surl][data-curl] a)',"VIDEO_BOX.SCRAPE":".MjjYud .vtSz8d:has([data-surl][data-curl] a)","VIDEO_BOX.ITEM":'[data-surl][data-curl]:has(a[href]), .sHEJob>div>div>div>div[jscontroller]:has(a[href] [role="heading"])',INCOMING_BLOCK:"#rso #wob_wc, #sports-app",QUESTION_ANSWER:'#Odp5De:has([data-attrid="CoreAnswerModuleHeader"])',"QUESTION_ANSWER.TITLE":'[data-attrid="CoreAnswerModuleHeader"]',"QUESTION_ANSWER.ANSWER":".NEw0P","QUESTION_ANSWER.IMAGE":'[data-attrid="CoreAnswerImageResult"] img',MULTI_LINK:"table .mslg, ul div.g","MULTI_LINK.ITEM":"table .mslg td, ul div.g","MULTI_LINK.ITEM.TITLE":"a h3","MULTI_LINK.ITEM.DESC":"h3+div","MULTI_LINK.SUD":"ul div.g","MULTI_LINK.SUD.DESC":'div[style*="-webkit-line-clamp"]',"SERP_VIDEO.DESC":"div.Uroaid","SERP_VIDEO.LENGTH":"div > div ~ div + div + div > div > span, span.R4Cuhd",KNOWLEDGE_GRAPH:"#extabar #botabar","KNOWLEDGE_GRAPH.HEADER":"#lxhdr","KNOWLEDGE_GRAPH.HEADER.ITEM":".kxbcc > span","KNOWLEDGE_GRAPH.ITEM":".mlo-c","KNOWLEDGE_GRAPH.ITEM.TITLE":".kltat, .title","KNOWLEDGE_GRAPH.ITEM.INTRO":".title + div",KNOWLEDGE_PANEL:".knowledge-panel","KNOWLEDGE_PANEL.HEADER":"[role=heading] span[class] span","KNOWLEDGE_PANEL.DEST":".kno-fb-ctx",KNOWLEDGE_FACT:'.g-blk:has([data-attrid^="wa:/"], [data-attrid^="kc:/"]), .TzHB6b.cLjAic.LMRCfc:has([data-attrid^="wa:/"], [data-attrid^="kc:/"])',RATING_ITEM:'g-review-stars[aria-hidden], smukrd, [data-sokoban-feature="mCCBcf"], [data-snf="mCCBcf"]',VIDEO_INFO_ITEM:"a:has(g-img), div a>div>img","VIDEO_INFO_ITEM.DROPDOWN":"g-dropdown-menu",LINK_ITEM:"div.HiHjCd > a, .Mwdfte > a",MULTI_LINK_ITEM:"table.nrgt a.l[href]"},it={SHOPPING_TOP_BLOCK_SELECTOR:".commercial-unit-desktop-top, .top-pla-group-inner",get SHOPPING_TOP_BLOCK_SELECTOR_EXPLICIT(){return at(it.SHOPPING_TOP_BLOCK_SELECTOR)},SHOPPING_TOP_ITEM_LINK_SELECTOR:".pla-unit a.plantl.pla-unit-single-clickable-target.clickable-card",SHOPPING_RIGHT_BLOCK_SELECTOR:".commercial-unit-desktop-rhs",get SHOPPING_RIGHT_BLOCK_SELECTOR_EXPLICIT(){return at(it.SHOPPING_RIGHT_BLOCK_SELECTOR)},SHOPPING_RIGHT_ITEM_LINK_SELECTOR:"a.plantl",SHOPPING_CARD_SELECTOR:"div.pla-unit",SHOPPING_CARD_SELECTOR_ROW:"div.mnr-c",SHOPPING_CARD_TITLE_SELECTOR:".pla-unit-title",SHOPPING_CARD_TITLE_SELECTOR_ROW:'div[role="heading"]',SHOPPING_CARD_IMG:".pla-unit-img-container img",SHOPPING_CARD_TITLE_LINK:"a.pla-unit-title-link",SHOPPING_HOVER_DISTRIBUTOR:".pla-hovercard-content span"},rt={SEARCH_BLOCKS_SELECTOR:"#ires [data-hveid] > .mnr-c",IMAGE_NODE_SELECTOR:"image-viewer-group",POI_SERP_SELECTOR:'div[role="link"][jsaction="fire.lrlh_mlt"]'},nt=tt?Object.assign({},et,rt):et;let ot=void 0;function at(t){return t.split(/, */).map(t=>t+":not([data-savior-scraped])").join(", ")}var st=new WeakMap,lt=new WeakSet;class ct{constructor(){var t,e;X(t=this,e=lt),e.add(t),function(t,e,i){X(t,e),e.set(t,i)}(this,st,{writable:!0,value:{}}),this._items=[],this._isReported=!1,this._rootBlock=[],function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,lt,ut).call(this),this._scrape(),this._handleBlockClicks()}_addItem(t,e,i){if(!e)return;this._setSerpId(e);const r=this._items.length;this._items.push(new A(t,e,i,this._docId,r))}_scrapeAds(t){const e={"top-ad":$(this,st)["SCRAPE.TOP_ADS"]||'#tads > div:has([data-hveid]), #adBlock > div > div > div[id^="e"]',"bottom-ad":$(this,st)["SCRAPE.BOTTOM_ADS"]||"#bottomads > div > div, #tadsb > div"},i=Object(a.queryAll)(e[t]);return i.forEach((e,i)=>{e.querySelector(it.SHOPPING_TOP_BLOCK_SELECTOR)||this._addItem(t,e,i)}),i.length}_scrapeSER(t,e){const i=Array.from(t.children).filter(t=>t.nodeType===Node.ELEMENT_NODE);return i.forEach((t,i)=>{this._addItem("organic",t,e+i)}),i.length}_scrapeResults(){const t=Object(a.queryAll)([nt.CURRENCY_BLOCK,nt.FEATURED_VIDEO,nt.NEW_FEATURED_VIDEO,nt.SEARCH_BLOCKS_SELECTOR,nt.POI_SERP_SELECTOR,nt.POI_TOP_SERP_SELECTOR,nt.IMAGE_NODE_SELECTOR,nt.FLIGHTS_BLOCK,nt.HOTELS_BLOCK_SCRAPE,nt.PEOPLE_ALSO_ASK,nt.FEATURE_SNIPPET,nt.PEOPLE_ALSO_SEARCH,nt.SPELL_CHECKER,nt.SHOWING_MOVIES,nt.SHOWTIMES_AT_CINEMA,nt.SHOWTIMES_FOR_MOVIE,nt.YSERP,nt.VIDEO_BLOCK,nt["VIDEO_BOX.SCRAPE"],nt.INFO_BLOCK,nt.INCOMING_BLOCK,nt.NEWS_BLOCK,nt.FEATURED_TOP_BLOCK].join(", ")).filter(t=>!t.matches(nt.SEARCH_BLOCKS_FILTER_SELECTOR)&&!Object(a.query)(nt.FILTER_SELECTOR_PP_ALSO_SEARCH,t)).filter(t=>t.matches(nt.PEOPLE_ALSO_ASK)||!t.closest(nt.PEOPLE_ALSO_ASK)).filter(t=>!t.querySelector(nt.CURRENCY_BLOCK));let e=0;return t.forEach(t=>{if(""===t.textContent.trim()&&!t.matches([nt.POI_SERP_SELECTOR,nt.IMAGE_NODE_SELECTOR,nt.POI_TOP_SERP_SELECTOR])||t.matches(nt.NOT_SERP_NODES_SELECTOR))return;const i=t.matches(nt.SEARCH_RESULT_GROUP)?t:t.querySelector(".srg");i?e+=this._scrapeSER(i,e):t.matches(nt.IMAGE_NODE_SELECTOR)?this._addItem("image",t,e++):t.matches(nt.POI_SERP_SELECTOR)||t.matches(nt.POI_TOP_SERP_SELECTOR)?this._addItem("poi-serp",t,e++):t.matches(nt.PEOPLE_ALSO_ASK)?this._addItem("people_also_ask",t,e++):t.matches(nt.FEATURE_SNIPPET)?this._addItem("feature_snippet",t,e++):t.matches(nt.INFO_BLOCK)?this._addItem("info_box",t,e++):t.matches(nt.VIDEO_BLOCK)?this._addItem("video-box",t,e++):t.matches(nt.FLIGHTS_BLOCK)?this._addItem("flights",t,e++):this._addItem("organic",t,e++)}),e}static _generateDocId(){return Date.now().toString(32)+"-"+Math.random().toString(32).slice(2)}_scrapeSidePOI(){const t=Object(a.queryAll)(nt.POI_SIDE_SELECTOR);t&&t.length&&t[0].querySelector(nt.POI_SIDE_MAP)&&t.forEach(t=>{this._addItem("poi-side",t,this._items.length)})}_scrapeSpellChecker(){const t=Object(a.query)(nt.SPELL_CHECKER_SELECTOR),e=t?t.innerText:"";t&&this._putOtherBlock({key:"spell_check",value:e})}_scrapeRelatedSearch(){try{const t=Object(a.queryAll)(nt.RELATED_SEARCH_CONTAINER);t&&t.length&&t.forEach(t=>{t.querySelector(nt.RELATED_SEARCH_ITEM)&&this._addItem("related_search",t,this._items.length)})}catch(t){console.warn(t)}}_scrapeOthers(){let t=nt.OTHER_BLOCKS_SELECTORS.map(t=>{const e=Object(a.queryAll)(t);if(e&&e.length){return new Array(e.length).fill(t)}return null});t=Object(a.flatten)(t).filter(t=>t).map(t=>({key:"other_bl",value:t})),this._putOtherBlock(t)}_scrapeKGBlock(){const t=nt.KNOWLEDGE_GRAPH,e=Object(a.query)(t);if(e){const i=e.querySelector(nt["KNOWLEDGE_GRAPH.HEADER"]);if(!i)return;const r=Array.from(i.querySelectorAll(nt["KNOWLEDGE_GRAPH.HEADER.ITEM"]));if(r.length>=3&&""!==r[2].innerText)return void this._putOtherBlock({key:"other_bl",value:t});const n=r[0],o=r[1],a=Array.from(e.querySelectorAll(nt["KNOWLEDGE_GRAPH.ITEM"])).map(t=>{const e=t.querySelector(nt["KNOWLEDGE_GRAPH.ITEM.TITLE"]),i=t.querySelector(nt["KNOWLEDGE_GRAPH.ITEM.INTRO"]);return{title:e?e.innerText:"",intro:i?i.innerText:""}}),s={src:n?n.innerText:"",rel:o?o.innerText:"",dest:a};this._putOtherBlock({key:"kg_block",value:JSON.stringify(s)})}const i=nt.KNOWLEDGE_PANEL,r=Object(a.query)(i);if(r){const t=Array.from(r.querySelectorAll(nt["KNOWLEDGE_PANEL.HEADER"]));if(!t||!t.length)return;const e=t[0],i=t[1],n=r.querySelector(nt["KNOWLEDGE_PANEL.DEST"]),o={src:e?e.innerText:"",rel:i?i.innerText:"",dest:[{title:n?n.textContent:""}]};this._putOtherBlock({key:"kg_block",value:JSON.stringify(o)})}}_setSerpIdForShoppingBlock(t){this._setSerpId(t),Array.from(t.querySelectorAll("[data-offer-id][data-merchant-id]")||[]).forEach(t=>{this._setSerpId(t)})}_setSerpId(t){if(t)try{t.getAttribute("data-serp-docid")||t.setAttribute("data-serp-docid",this._docId)}catch(t){}}_scrapeShopping(){const t=Object(a.query)(it.SHOPPING_TOP_BLOCK_SELECTOR_EXPLICIT);if(t){t.setAttribute("data-savior-scraped","true");const e=Object(a.queryAll)(it.SHOPPING_TOP_ITEM_LINK_SELECTOR,t),i=Object(a.queryAll)(it.SHOPPING_CARD_SELECTOR,t);if(e&&e.length&&i.length){const t=e.map(t=>t.href).filter(Boolean),r=i.map((t,e)=>{var i,r,n,o,s;const l=null===(i=t.querySelector(it.SHOPPING_CARD_TITLE_SELECTOR))||void 0===i?void 0:i.parentElement.childNodes;if(!l)return;this._setSerpIdForShoppingBlock(t);const c=Object(a.queryAll)(it.SHOPPING_HOVER_DISTRIBUTOR,t);return{link:null===(r=l[0].querySelector(it.SHOPPING_CARD_TITLE_LINK))||void 0===r?void 0:r.href,product_name:null===(n=l[0].querySelector("span"))||void 0===n?void 0:n.innerText,price:[...l[1].querySelectorAll("span")].map(t=>t.innerText).filter(Boolean),distribution:null===(o=c[c.length-1]||l[l.length-1])||void 0===o?void 0:o.innerText,image:null===(s=t.querySelector(it.SHOPPING_CARD_IMG))||void 0===s?void 0:s.src,position:e}}).filter(Boolean);this._putRootBlock({key:"shoppingBlock",value:{links:t,items:r,type:"top"}})}}const e=Object(a.query)(it.SHOPPING_RIGHT_BLOCK_SELECTOR_EXPLICIT);if(e){e.setAttribute("data-savior-scraped","true");const t=Object(a.queryAll)(it.SHOPPING_RIGHT_ITEM_LINK_SELECTOR,e),i=Object(a.queryAll)(it.SHOPPING_CARD_SELECTOR,e),r=Object(a.queryAll)(it.SHOPPING_CARD_SELECTOR_ROW,e);if(t&&t.length&&i.length){let e=t.map(t=>t.href).filter(Boolean);e=Array.from(new Set(e));const r=i.map((t,e)=>{var i,r,n,o,s;const l=null===(i=t.querySelector(it.SHOPPING_CARD_TITLE_SELECTOR))||void 0===i?void 0:i.parentElement.childNodes;if(!l)return;this._setSerpIdForShoppingBlock(t);const c=Object(a.queryAll)(it.SHOPPING_HOVER_DISTRIBUTOR,t);return{link:null===(r=l[0].querySelector(it.SHOPPING_CARD_TITLE_LINK))||void 0===r?void 0:r.href,product_name:null===(n=l[0].querySelector("span"))||void 0===n?void 0:n.innerText,price:[...l[1].querySelectorAll("span")].map(t=>t.innerText).filter(Boolean),distribution:null===(o=c[c.length-1]||l[l.length-1])||void 0===o?void 0:o.innerText,image:null===(s=t.querySelector(it.SHOPPING_CARD_IMG))||void 0===s?void 0:s.src,position:e}}).filter(Boolean);this._putRootBlock({key:"shoppingBlock",value:{links:e,items:r,type:"right"}})}if(r&&t.length&&r.length&&0===i.length){let e=t.map(t=>t.href).filter(t=>!t.includes("www.googleadservices.com"));e=Array.from(new Set(e));const i=r.map((t,e)=>{var i,r,n,o,a;const s=t.querySelector(it.SHOPPING_CARD_TITLE_SELECTOR_ROW),l=null==s?void 0:s.parentElement.childNodes;if(!l)return;this._setSerpIdForShoppingBlock(t);return{link:null===(i=s.querySelector("a[aria-label]"))||void 0===i?void 0:i.href,product_name:null===(r=s.querySelector("span"))||void 0===r?void 0:r.innerText,price:l[1].childNodes[0].innerText,distribution:null===(n=l[1])||void 0===n||null===(o=n.querySelector("span"))||void 0===o?void 0:o.innerText,image:null===(a=t.querySelector(it.SHOPPING_CARD_IMG))||void 0===a?void 0:a.src,position:e}}).filter(Boolean);this._putRootBlock({key:"shoppingBlock",value:{links:e,items:i,type:"right"}})}}}_putOtherBlock(t){this._others=this._others||[],Array.isArray(t)?this._others=this._others.concat(t):this._others.push(t)}_putRootBlock(t){t&&t.key&&t.value&&this._rootBlock.push(t)}get _q(){function t(t){return t.offsetWidth&&t.offsetHeight}const e=Object(a.query)(".spell_orig b");if(e&&t(e))return e.textContent.trim();let i=Object(a.query)("a.spell_orig");if(!i&&Object(a.query)('div[id*="knowledge-currency"]')&&(i=Object(a.query)(".hdtb-mitem:nth-child(3) > a")),i&&i.href&&t(i)||(i=Object(a.query)("#searchform textarea, #searchform input")),!i&&c.b.isGGAdsOnCocCoc(location.href))return c.b.getSearchParams(location.href).q;if(i&&t(i)){if(i.value)return i.value;if(i.href)return c.b.getSearchParams(i.href).q}return null}static _parsePage(){const t=Object(a.queryAll)('div[role="navigation"] td > span').map(t=>t.parentElement).filter(t=>t.innerText)[0];return t?parseInt(t.textContent.trim()):1}_scrape(){this._docId=c.a.isGGAds(location.href)&&n.a.get("_serpid_on_coccoc")?n.a.get("_serpid_on_coccoc"):ct._generateDocId(),this._s=10*(ct._parsePage()-1),this._scrapeAds("top-ad"),this._scrapeResults(),this._scrapeAds("bottom-ad"),this._scrapeRelatedSearch(),this._scrapeSidePOI(),this._scrapeSpellChecker(),this._scrapeKGBlock(),this._scrapeShopping()}getSERPData(){const t=document.querySelector('[data-sbu^="/setprefs"] [data-key][aria-pressed="true"][role="button"][selected="true"]'),e={type:"gsearch",id:this._docId,domain:window.location.href,referer:this._extractReferrer(),searchQuery:this._q,searchStart:this._s,timestamp:Date.now(),items:this._items.map(t=>t.data),language:document.documentElement.lang,version:ct.VERSION};var i,r;(t&&(e.safeSearch=t.getAttribute("data-key")),c.b.isYSERPHref(location.href))&&(e.type="ysearch",e.referer="youtube",e.searchQuery=null===(i=Object(a.query)("input#search"))||void 0===i?void 0:i.value);c.b.isGGAdsOnCocCoc(location.href)&&(e.coccocSerpId=localStorage.getItem("coccoc_query_id")||n.a.get("coccoc_query_id"),null!==(r=new URL(location.href).searchParams.get("cont"))&&void 0!==r&&r.match(/search__ggsense_[top|bottom]+/i)&&(n.a.get("_serpid_on_coccoc")?e.id=n.a.get("_serpid_on_coccoc"):n.a.set("_serpid_on_coccoc",e.id)),e.searchQuery||"string"!=typeof document.referrer||(e.searchQuery=new URL(document.referrer).searchParams.get("query")),e.type="coccocsearch",this._docId=e.id);if(c.b.isVideoSERPHref(location.href)&&(e.type="gvideosearch"),c.b.isImageSERPHref(location.href)&&(e.type="gimagesearch"),o.a.SERP_ADD_STRUCTURES){if(!o.a.SERP_ADD_INNER_STRUCTURES){let t=ct._extractExtensions(this._items);t&&t.length&&(e.extensions=(e.extensions||[]).concat(t))}this._others&&this._others.length&&(e.extensions=this._others)}else ct._removeExtensions(this._items);return o.a.CUSTOM_METRICS_JSON&&this._rootBlock&&this._rootBlock.length&&this._rootBlock.forEach(t=>{e[t.key]=Object.assign({},t.value)}),e}_extractReferrer(){const t=document.referrer,e=/www\.google\./;return/coccoc.com\/search/gi.test(t)||""===t&&/www\.google+[\s\S]+\/search\?q=porn$/g.test(location.host)?"coccoc_search":this._isFromIndexPage?"g_index":e.test(t)?"g_serp":""===t&&e.test(location.host)?"omnibox":t||(""===t&&c.a.isCocCocSerp(location.href)?"omnibox":"unknown")}static _extractExtensions(t){return t.reduce((t,e)=>(e._data.extensions&&(t=t.concat(e._data.extensions),delete e._data.extensions),t),[])}static _removeExtensions(t){t.forEach(t=>{t._data.extensions&&delete t._data.extensions})}_metricsReport(t){var e,i,r;const n=this.getSERPData();var a,l;t&&(n.searchStart=(null===(a=t.items)||void 0===a?void 0:a.length)||0,n.items=n.items.filter(e=>{var i;return!(null!==(i=t.items)&&void 0!==i&&i.find(t=>{var i;return(t.url==e.url||t.type==e.type&&(null===(i=e.type)||void 0===i?void 0:i.includes("-ad")))&&t.type==e.type&&t.title.toString()==e.title.toString()}))}),n.shoppingBlock&&(n.shoppingBlock.items=n.shoppingBlock.items.filter(e=>{var i,r;return!(null!==(i=t.shoppingBlock)&&void 0!==i&&null!==(r=i.links)&&void 0!==r&&r.includes(e.link))}),n.shoppingBlock.links=n.shoppingBlock.links.filter(e=>{var i,r;return!(null!==(i=t.shoppingBlock)&&void 0!==i&&null!==(r=i.links)&&void 0!==r&&r.includes(e))})));if(!(null!=n&&null!==(e=n.items)&&void 0!==e&&e.length||null!==(i=n.shoppingBlock)&&void 0!==i&&null!==(r=i.links)&&void 0!==r&&r.length))return{};if(c.b.isGGAdsOnCocCoc(location.href)&&0===(null==n||null===(l=n.items)||void 0===l?void 0:l.length))return{};if(o.a.CUSTOM_METRICS_JSON){const t=this._convertSerpDataToCustomData(n);new Promise((e,i)=>{try{const r=K(t),n=r.reduce((t,e)=>W(W({},t),e),{});if(null!=r&&r.length)return i(n);e()}catch(t){e()}}).catch(t=>{s.a.log("recordCustomData",[{key:"savior_serp_error",value:JSON.stringify(t)}])}),s.a.log("recordCustomData",[{key:"savior_serp_page",value:JSON.stringify(t)}])}return n}static cleanUpOldMetrics(t){const e=Object.assign({},t);return e.extensions&&(e.extensions=e.extensions.filter(t=>!(!t||!t.key)&&!t.key.includes("shopping_"))),delete e.shoppingBlock,e}_convertSerpDataToCustomData(t){const e=Object.assign({},t);return e.extensions&&(ct._convertKeyToType(e.extensions),e.extensions.forEach(t=>{"other_bl"===t.type&&(t.type="other_block")})),e.items.forEach(t=>{t.extensions&&ct._convertKeyToType(t.extensions),delete t.addRawContent,delete t.position}),e.timestampMs=e.timestamp,delete e.timestamp,e}static _convertKeyToType(t){t&&t.length&&t.forEach(t=>{t.type=t.key,delete t.key})}_handleBlockClicks(){ot=ct._blockClickHandler.bind(this),document.body.addEventListener("click",ot);const t=document.querySelector("ytd-video-preview");t&&(t.style.pointerEvents="none")}static _blockClickHandler(t){if(!t.target)return;const e=Object(a.nearestParent)(t.target,".pla-hovercard-content-ellip")||Object(a.nearestParent)(t.target,".pla-unit-single-clickable-target")||Object(a.nearestParent)(t.target,".mnr-c");if(e){var i;const o=e.dataset.hveid;if(!o)return;let s=null===(i=e.closest("[data-serp-docid]")||e.querySelector("[data-serp-docid]"))||void 0===i?void 0:i.getAttribute("data-serp-docid");try{if(!s){const t=e.querySelector("[data-offer-id]");var r;if(t)s=null===(r=document.querySelector(`[data-offer-id="${t.getAttribute("data-offer-id")}"][data-serp-docid][href="${t.href}"]`))||void 0===r?void 0:r.getAttribute("data-serp-docid")}}catch(t){}const l=Array.from(document.querySelectorAll(it.SHOPPING_TOP_BLOCK_SELECTOR));let c=null,u=-1;l.forEach((t,i)=>{var r;const n=t.querySelector(['[data-hveid="${hveid}"] a.pla-hc-c','.pla-unit-single-clickable-target[aria-label*="${e.target.textContent}"]','.pla-unit-single-clickable-target[aria-label*="${e.target.alt}"]',`.pla-unit-single-clickable-target[data-offer-id*="${null===(r=e.querySelector("a[data-offer-id]"))||void 0===r?void 0:r.getAttribute("data-offer-id")}"]`].join(","));n&&(c=n,u=i)});const d=u>-1?l[u]:l[0],h=Array.from(document.querySelectorAll(it.SHOPPING_RIGHT_BLOCK_SELECTOR));let _=null,p=-1;h.forEach((i,r)=>{var n;const a=i.querySelector([`[data-hveid="${o}"] a.pla-hc-c`,`.pla-unit-single-clickable-target[aria-label*="${t.target.textContent}"]`,`.pla-unit-single-clickable-target[aria-label*="${t.target.alt}"]`,`.pla-unit-single-clickable-target[data-offer-id*="${null===(n=e.querySelector("a[data-offer-id]"))||void 0===n?void 0:n.getAttribute("data-offer-id")}"]`].join(","));a&&(_=a,u=r)});const v=p>-1?h[u]:h[0];var n;if(!c&&!_)_=null===(n=v||d)||void 0===n?void 0:n.querySelector(`.mnr-c[data-hveid="${o}"] a:not([href*="googleadservices.com/pagead"])[target]`);const f=c||_;if(!f)return;let E="";c&&(E="shopping_item_top"),_&&(E="shopping_item_right");const m=Object(a.nearestParent)(f,".pla-unit")||Object(a.nearestParent)(f,".mnr-c"),g=[...m.parentElement.children].indexOf(m),y=f.querySelector("span:not(:empty)")||m.querySelector("span:not(:empty)");this._reportShoppingClick({itemType:E,docId:s,href:f?f.href:"",type:"shopping",title:y?y.innerText:"",index:g})}}_reportShoppingClick(t){if(o.a.CUSTOM_METRICS_JSON){const e={serpId:t.docId||this._docId,itemIndex:t.index,url:t.href,type:t.type,version:ct.VERSION,timestampMs:Date.now(),title:t.title,itemType:t.itemType};s.a.log("recordCustomData",[{key:"savior_serp_click",value:JSON.stringify(e)}])}}isSameSearchAs(t){var e;return t&&t.q.trim()===(null===(e=this._q)||void 0===e?void 0:e.trim())&&t.s==this._s}report(t,e){if(this._isFromIndexPage=t,!this._isReported)return this._isReported=!0,this._metricsReport(e)}destroy(){this._items.forEach(t=>t.destroy.call(t)),ot&&(document.body.removeEventListener("click",ot),ot=void 0),document.body.removeEventListener("click",ct._blockClickHandler)}}function ut(){const t=n.a.get(u.m);t&&(J(this,st,t),Object.keys(et).forEach(e=>{t[e]&&(et[e]=t[e])}),Object.keys(it).forEach(e=>{t[e]&&(it[e]=t[e])}),Object.keys(rt).forEach(e=>{let i="MOBILE."+e;t[i]&&(rt[e]=t[i])}))}ct.VERSION=Object(a.transformVersionToNumber)("2.3.72");var dt=e.b=ct},4:function(t,e,i){"use strict";var r=i(6),n=i(17);class o{constructor(){this.SOURCE_POPUP_PAGE=0,this.SOURCE_OPTIONS_PAGE=10,this.SOURCE_CONTENT_SCRIPT=20,this.SOURCE_BACKGROUND_PAGE=30,this.LEGACY_METRICS_NAME_MAP={ButtonClicked:"TryItNowButtonClicked",CheckBoxClicked:"OneClickCheckbox"},this.PAGE_WELCOME_SCREEN=0,this.PAGE_DOWNLOADS_LIST=1,this.PAGE_ONE_CLICK_DOWNLOAD=2,this.PAGE_NO_MEDIA_FOUND=3,this.PAGE_OPTIONS=4,this.PAGE_CONTENT_SHOW_CONTROLS=5,this.PAGE_CONTENT_NO_MEDIA=9,this.YOUTUBE_ADS_BLOCK_ERROR=0,this.YOUTUBE_ADS_BLOCK_ERROR_POPUP=1,this.YOUTUBE_ADS_BLOCK_ERROR_BY_SAVIOR=2,this.YOUTUBE_ADS_BLOCK_ERROR_POPUP_BY_SAVIOR=3,this.YOUTUBE_SKIP_ADS_SHOWN=1,this.YOUTUBE_SKIP_ADS_FAST_FWD=2,this.YOUTUBE_SKIP_ADS_SEE=3,this.DOWNLOAD_AUTO=0,this.DOWNLOAD_BUTTON=1,this.DOWNLOAD_ALL=2,this.DOWNLOAD_REQUEST_SIZE=3,this.DOWNLOAD_REQUEST_SIZE_FAILED=4,this.DOWNLOAD_SOUND_ONLY=5,this.DOWNLOAD_YOUTUBE_ERROR=6,this.DOWNLOAD_CANCELED=7,this.DOWNLOAD_SUBTITLES=9,this.BUTTON_MAIN=0,this.BUTTON_TRY_IT_NOW=1,this.BUTTON_SHOW_DOWNLOADS=2,this.BUTTON_OPEN_SETTINGS=3,this.BUTTON_DOWNLOAD_ALL=4,this.BUTTON_MORE_OPTIONS=5,this.BUTTON_HIDE_PERMANENT=6,this.BUTTON_FAKE_QUALITY=7,this.BUTTON_DETACH=8,this.BUTTON_HIDE=9,this.CHECK_BOX_ENABLE_ONE_CLICK=0,this.CHECK_BOX_SHOW_ON_PAGE_BUTTONS=2,this.CHECK_BOX_PREFER_LAST_QUALITY=4,this.CHECK_BOX_DETACH_ENABLED=6,this.CHECK_BOX_DARK_THEM_ENABLED=8,this.PIP_DETACH_CLICK=0,this.PIP_RESTORE_CLICK=1,this.PIP_SITE_LINK_CLICK=2,this.PLAY_NOW_SHOWN=0,this.PLAY_NOW_WIDGET_CLICKED=1,this.PLAY_NOW_TOOLTIP_SHOWN=2,this.PLAY_NOW_TOOLTIP_CLOSED=3,this.PLAY_NOW_TOOLTIP_NOT_SHOW_AGAIN=4,this.PLAY_NOW_TOOLTIP_BOTTOM_SHOWN=5,this.PLAY_NOW_TOOLTIP_BOTTOM_CLOSED=6,this.PLAY_NOW_TOOLTIP_BOTTOM_NOT_SHOW_AGAIN=7,this.EXTENSION_MP4=1,this.EXTENSION_MP3=2,this.EXTENSION_WEBM=3,this.EXTENSION_3GP=4,this.EXTENSION_SRT=5,this.EXTENSION_OTHER=6,this.SEND_MOBILE_SHOW=1,this.SEND_MOBILE_CLICK=2,this.SEND_MOBILE_CLICK_CLOSE=3,this.SEND_MOBILE_CLICK_A=4,this.SEND_MOBILE_CLICK_G=5,this.SEND_MOBILE_CLICK_W=6,this.SEND_MOBILE_CLICK_AUDIO=7,this.SEND_MOBILE_ERROR=9,this.TURN_LIGHT_ON=0,this.TURN_LIGHT_OFF=1,this.ONBOARD_POPUP_SHOWN=1,this.ONBOARD_POPUP_SHOWN_SECOND=1,this.ONBOARD_POPUP_SHOWN_THIRD=1,this.ONBOARD_TRY_NOW_BTN_CLICK=1,this.CLOSE_ONBOARD_POPUP=1,this.OPEN_SETTING_POPUP=1,this.OPEN_SETTING_CONTENT=2}get source(){if(!chrome.action&&!chrome.pageAction)return this.SOURCE_CONTENT_SCRIPT;switch(location.pathname){case"/popup.html":return this.SOURCE_POPUP_PAGE;case"/options.html":return this.SOURCE_OPTIONS_PAGE;case"/background.js":case"/background.html":return this.SOURCE_BACKGROUND_PAGE;default:return null}}_getFullName(t){return"Savior."+(this.LEGACY_METRICS_NAME_MAP[t]||t)}_getTotalValue(t,e,i){return 0===t.indexOf("Refr")||i||["PageShown","YTBlockType","YTSkipAdShown","ForceDisableAdblockOnYoutube"].includes(t)||(null==t?void 0:t.startsWith("Onboarding."))||"number"!=typeof e?e:e+this.source}_doLog(t,e,i){var r,o=this._getFullName(e);if(!(parseInt((null===(r=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))||void 0===r?void 0:r[2])||"")<=50))if(this.source===this.SOURCE_CONTENT_SCRIPT)Object(n.a)({type:"metrics",method:"log",params:{name:e,value:i}});else if(chrome.metricsPrivate)switch(t){case"recordSmallCount":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:100,buckets:100},i);break;case"recordValue":chrome.metricsPrivate.recordValue({metricName:o,type:chrome.metricsPrivate.MetricTypeType.HISTOGRAM_LINEAR,min:0,max:1e3,buckets:1002},i);break;case"recordCustomData":chrome.metricsPrivate.recordCustomData(i)}else if("recordCustomData"===t){if(i&&1===i.length)return void console.info("%c[Metrics] %crecordCustomData %c%s","color:gray","color:silver","color: lightgreen",i[0].key,JSON.parse(i[0].value));console.info("%c[Metrics]","color:gray","recordCustomData",i)}else console.info("%c[Metrics]","color:gray",t,o,i)}static _getMethodByName(t){switch(t){case"Refr":case"RefrSE":case"RefrFE":case"RefrPin":return"recordValue";case"recordCustomData":return"recordCustomData";default:return"recordSmallCount"}}log(t,e,i){try{var n=o._getMethodByName(t);if("recordCustomData"===n&&r.a.CUSTOM_METRICS_JSON)return void this._doLog(n,t,e);var a=this._getTotalValue(t,e,i);this._doLog(n,t,a)}catch(t){console.warn("Catched",t)}}logYtExtension(t){switch(t.toLowerCase()){case"mp4":this.log("YtExtension",this.EXTENSION_MP4);break;case"mp3":this.log("YtExtension",this.EXTENSION_MP3);break;case"webm":this.log("YtExtension",this.EXTENSION_WEBM);break;case"3gp":this.log("YtExtension",this.EXTENSION_3GP);break;case"srt":this.log("YtExtension",this.EXTENSION_SRT);break;default:this.log("YtExtension",this.EXTENSION_OTHER)}}logSendMobile(t){this.log("SendMobile",t)}logFromContentScript(t,e){this.log(t,e,!0)}logRequest(t){var e=Object.keys(t).reduce((e,i,r)=>e+=`${r?"&":""}${i}=${t[i]}`,"?");navigator.sendBeacon("https://coccoc.com/log"+e)}}e.a=new o},406:function(t,e,i){"use strict";i.r(e);i(44);var r=i(35),n=i(5);new class{constructor(){EE.on("SERP.yserp_log",()=>{this._log()})}_log(){setTimeout(()=>{n.b.isYSERPHref(location.href)&&(this._currentResults=new r.b,this._currentResults.report(!0))},2e3)}}},44:function(t,e,i){"use strict";(function(t){var e=i(26);t.EE||(t.EE=new e.EventEmitter),t.IS_CONTENT_SCRIPT=!0,t.savior_referrer=location.href,t.tab_url=location.href}).call(this,i(9))},5:function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return _}));var r=i(3),n=i(0);i.d(e,"d",(function(){return n.query})),i.d(e,"e",(function(){return n.queryAll}));var o=i(2);function a(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function l(t,e){return t&&t.getAttribute(e)||""}var c={isCocCocSerp:function(t){if(t)return Boolean(t.match(/(^(https|http):\/\/(dev[0-9]?\.)?coccoc.com\/search\?query=)(?!.*tbm).*$/i))},isGGAds:function(t){return Boolean(t.match(/^https:\/\/www\.(google\.com\/afs\/ads([\s\S]+master[\-A-Za-z\-0-9])*)|(((adsensecustomsearchads|google)\.com|syndicatedsearch\.goog)\/afs\/ads\?[\s\S]+&cont=search__ggsense)/i))},isCocCocComposer:function(t){return Boolean(t.match(/(^(https|http):\/\/(dev[0-9]?\.)?coccoc.com\/composer\?)(?!.*tbm).*$/i))},saveQueryId:function(t){o.a.remove("_serpid_on_coccoc"),t&&o.a.get("coccoc_query_id")!==t&&o.a.set("coccoc_query_id",t)},hasGGAdsIrames:function(t){var e,i=a(Object(n.queryAll)("iframe",t));try{for(i.s();!(e=i.n()).done;){var r=e.value;if(_.isGGAdsOnCocCoc(null==r?void 0:r.src))return!0}}catch(t){i.e(t)}finally{i.f()}}},u=new RegExp("^(www\\.)?google\\.((com|ac|ad|ae|al|am|as|at|az|ba|be|bf|bg|bi|bj|bs|bt|by|ca|cc|cd|cf|cat|cg|ch|ci|cl|cm|cn|cv|cz|de|dj|dk|ee|fi|dm|dz|es|fm|fr|ga|ge|gf|gg|gl|gm|gp|gr|gy|hn|hr|ht|hu|ir|iq|ie|im|io|is|it|je|ki|kg|jo|kz|la|lt|lu|lv|li|lk|md|me|mg|mk|ml|mn|ms|mu|mv|mw|nl|no|nr|nu|pl|ne|pn|ps|pt|ro|rs|ru|rw|sc|se|sh|si|sn|sm|so|tk|tl|tm|to|tn|st|sk|tt|td|vu|ws|vg|tg|us)|(co((\\.(th|id|il|in|jp|ke|ma|kr|mz|ls|nz|tz|ug|uk|uz|ve|vi|za|zm|zw|ao|ck|bw|cr))|m\\.(pr|py|qa|sa|sb|sg|sl|sv|tj|tn|tr|tw|gh|gi|gt|hk|jm|kw|lb|lc|ly|mm|mt|mx|my|na|nf|ng|ni|np|om|pa|pe|ph|pk|pg|ua|uy|vc|vn|af|ag|ai|ar|au|bd|bh|bn|bo|br|bz|kh|co|cu|cy|do|ec|eg|et|fj))))$","i"),d=/[&?]q=[^&]/i,h=/^https:\/\/www.google.com\/afs\/ads/i,_={isSERPHost:function(t){return Boolean(t.match(u)&&!location.href.match(h)||c.isCocCocSerp(location.href))},isGGAdsOnCocCoc:function(t){return Boolean(c.isGGAds(t)&&c.isCocCocSerp(new URL(t).searchParams.get("rurl")))},isYSERPHref:function(t){return t&&Boolean(t.match(/(youtube.com\/results+[\s\S]+search_query=)/g))},isVideoSERPHref:function(t){return Boolean(t.match(/(https:\/\/www.google.+\/search)+[\s\S]+(tbm=vid|vid:|udm=7)/g))},isImageSERPHref:function(t){return Boolean(t.match(/(https:\/\/www.google.+\/search)+[\s\S]+(tbm=isch|udm=2)/g))},isSERPRequest:function(t){var e,i,n=Object(r.f)(t);return Boolean(this.isSERPHost(n.host)&&(null===(e=n.pathname)||void 0===e?void 0:e.match(/\/s(earch)?/i))&&(null===(i=n.search)||void 0===i?void 0:i.match(d)))},getSearchParams:function(t){var e=Object(r.f)(t),i=Object(r.g)(e.search),o=Object(r.g)(e.hash||"#"),a=Object(n.defined)(o.q);return{_rawSearch:i,_rawHash:o,q:a?o.q:i.q||i.query||"",s:a?o.start||0:i.start||0,tbm:a?o.tbm:i.tbm&&"vid"!=i.tbm&&"isch"!=i.tbm||null,isXHR:i.tch,isHash:a}},isGGAds:function(t){return t&&/(^https:\/\/www\.google\.com\/afs\/ads([\s\S]+master[\-A-Za-z\-0-9])*)|(^https:\/\/googleads\.g\.doubleclick\.net\/pagead\/ads)|(^https:\/\/.+safeframe\.googlesyndication\.com\/safeframe)/i.test(t)},isCollectingAdSites:function(t){return t&&/^(https:\/\/((www\.)?(eva\.vn\/)|(vietnamnet\.vn\/)|(coccoc\.com\/webhp)))|(chrome:\/\/newtab\/)/i.test(t)}}},6:function(t,e,i){"use strict";(function(t){i.d(e,"b",(function(){return a}));var r=i(1);function n(t){return t.split(".").map(t=>parseInt(t))}function o(t,e){if(!t)return!1;var i=e.split(" ");if(2!==i.length)return!1;var r=-1;switch(i[0]){case">":r=1;break;case">=":r=0}var o,a,s,l=n(i[1]);return a=l,(0!==(s=(o=t)[0]-a[0])||0!=(s=o[1]-a[1])||0!=(s=o[2]-a[2])?s:s=o[3]-a[3])>=r}function a(t){var e=t.match(/Chrome\/([\d.]+)/);return e&&e[1]&&(e=n(e[1])),o.bind(null,e)}var s=function(t){var e=t.match(/Chrome\/([\d.]+)/);e&&e[1]&&(e=n(e[1]));var i=o.bind(null,e);return{YT:{mp4:!0,m4a:!0,webm:i(">= 39.0.2171.103"),weba:i(">= 39.0.2171.103")},M3U8:i("> 62.4.3202.180"),SOUND_ONLY:i("> 55.4.2883.114")||!!e&&50===e[0]&&i("> 50.3.2661.150"),SUBTITLES:i("> 55.4.2883.114")||!!e&&50===e[0]&&i("> 50.3.2661.150"),PLAY_NOW_BOTTOM_TOOLTIP:i("> 55.4.2883.126"),IS_ADS_PIP_PARAMS:i("> 60.4.3112.120"),MEDIA_WEB_REQUEST:i(">= 58.4.3029.118"),SERP_ADD_STRUCTURES:i(">= 62.4.3202.176"),SERP_ADD_INNER_STRUCTURES:i(">= 64.4.3282.200"),MOBILE_TRANSFER_PANEL:!0,CUSTOM_METRICS_JSON:i(">= 64.4.3282.236"),DASH_DOWNLOAD:i(">= 72.0.3626.130"),WEB_REQUEST_EXTRA_HEADERS:i(">= 72.0.0.0"),NATIVE_PIP:i(">= 74.0.0.0"),DOWNLOAD:{EXTRA_DATAS:i(">= 103.0.0.0"),M3U8_AUDIO:i(">= 109.0.0.0")},CHATGPT:i(">= 110.0.0.0"),DO_NOT_ONBOARD_YOUTUBE_ANTI_ADBLOCKER:i(">= 117.0.0.0"),DO_NOT_FAST_FORWARD_YOUTUBE_ADS:i(">= "+r.i),SRT_V3_SUPPORT:i(">= 121.0.0.0")}}(t.navigator.userAgent);e.a=s}).call(this,i(9))},65:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return u}));var r=i(35),n=i(0),o=i(5),a=i(2);let s;const l=function(){var t;!s&&(null!==(t=window.name)&&void 0!==t&&t.match(/^{"name":"master-\d[\s\S]+https:\/\/coccoc.com\/search/)||o.a.isCocCocSerp(location.href)&&o.a.hasGGAdsIrames(document))&&(window.top.postMessage({type:"ggadsense_get_reqid"},"https://coccoc.com"),window.addEventListener("message",t=>{"ggadsense_sent_reqid"===t.data.type&&o.a.saveQueryId(t.data.reqid)}),s=!0),(!o.b||o.b.isSERPHost(location.host)||o.b.isGGAdsOnCocCoc(location.href))&&(this._lastQs=null,this._currentQParams=o.b.getSearchParams(location.href),this._isLastWasIndex=this._isIndexPage,this._loggedData={},this._scrollHeight=0,this._itemsCount=0,o.a.isCocCocSerp(location.href)?setTimeout(()=>{window.addEventListener("popstate",this._onPopState.bind(this)),window.addEventListener("hashchange",this._onPopState.bind(this)),this._startPolling()},1e3):(window.addEventListener("popstate",this._onPopState.bind(this)),window.addEventListener("hashchange",this._onPopState.bind(this)),this._startPolling()))};l.prototype={POLLING_INTERVAL:200,DELAY_BEFORE_SCRAPPING:200,SERP_URL_PATTERN:/[#?&]source=hp/,get _isOrganic(){return!o.b.getSearchParams(location.href).tbm},_clearResults:function(){this._currentResults&&this._currentResults.destroy(),this._currentResults=null,this._currentQParams=null},_reportResultsIfQueriesMatch:function(){if(this._currentResults&&this._currentResults.isSameSearchAs(this._currentQParams)){var t,e,i,r;const n=this._currentResults.report(this._isLastWasIndex,this._loggedData);this._loggedData={items:[...(null===(t=this._loggedData)||void 0===t?void 0:t.items)||[],...n.items||[]],shoppingBlock:{links:[...(null===(e=this._loggedData)||void 0===e||null===(i=e.shoppingBlock)||void 0===i?void 0:i.links)||[],...(null===(r=n.shoppingBlock)||void 0===r?void 0:r.links)||[]]}},this._isLastWasIndex=!1}},_onPopState:function(){this._isOrganic?(this._currentQParams=o.b.getSearchParams(location.href),this._reportResultsIfQueriesMatch()):this._clearResults()},_onResultsRendered:function(){this._isOrganic?setTimeout(()=>{this._currentResults&&this._currentResults.destroy(),this._currentResults=new r.b,this._reportResultsIfQueriesMatch()},this.DELAY_BEFORE_SCRAPPING):this._clearResults()},triggeResultClicked:function(){this._isOrganic?this._currentResults&&(this._currentResults.report(this._isLastWasIndex),this._isLastWasIndex=!1):this._clearResults()},get _isDOMStateDifferent(){let t=Object(n.query)(".qs, .q, .hdtb-mitem.hdtb-imb > a, .hdtb-mitem.hdtb-msel > a, #hdtb-msb .hdtb-mitem.hdtb-msel:first-child, #rso a");if("isch"===this._currentQParams._rawSearch.tbm&&(t=Object(n.query)('[aria-current="page"]')),o.a.isCocCocSerp(this._currentQParams._rawSearch.rurl)&&(t=location.href),!t)return!1;const e=Object(n.query)("#rcnt, #search, #ires, #islrg");if(e&&this._scrollHeight!=e.scrollHeight)return this._scrollHeight=e.scrollHeight,!0;const i=Object(n.queryAll)(".g").length;return i!=this._itemsCount?(this._itemsCount=i,!0):t!==this._lastQs&&(this._lastQs=t,!0)},get _areQParamsDifferent(){const t=o.b.getSearchParams(location.href);return!this._currentQParams&&t.q||t.q!==this._currentQParams.q||t.s!=this._currentQParams.s},get _isResultBlockVisible(){const t=Object(n.query)("#search, #ires, #islrg");return Object(n.query)("#adBlock")?o.b.isGGAdsOnCocCoc(location.href):!!t&&"hidden"!==t.style.visibility},get _isIndexPage(){return this.SERP_URL_PATTERN.test(window.location.href)},_startPolling:function(){setInterval(this._onTimerTick.bind(this),this.POLLING_INTERVAL)},_onTimerTick:function(){this._isResultBlockVisible&&this._isDOMStateDifferent&&this._onResultsRendered(),this._areQParamsDifferent&&this._onPopState(),this._isLastWasIndex||(this._isLastWasIndex=this._isIndexPage)}};let c={instance:null};function u(){return c.instance}a.a.load().then(()=>{c.instance=new l})},7:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i(0),n=i(1);class o{constructor(){this.QUALITY_TYPES={},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(r.i18n)(n.v["3072p"].i18n_label),qualityIndex:8,size:3072,videoTitle:"Super HD"},this.QUALITY_TYPES["4K"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES["4K UHD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(r.i18n)(n.v["2160p"].i18n_label),qualityIndex:7,size:2160,videoTitle:"Ultra HD"},this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD]={quality:o.QL_HIGH,i18n_quality:Object(r.i18n)(n.v["1440p"].i18n_label),qualityIndex:6,size:1440,videoTitle:"Quad HD"},this.QUALITY_TYPES["Quad HD"]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD],this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]={quality:o.QL_HIGH,i18n_quality:Object(r.i18n)(n.v["1080p"].i18n_label),qualityIndex:5,size:1080,videoTitle:"Full HD",audioTitle:"High",vimeoQuality:"1080p",zingTag:["1080p","label1080"],dailymotionQuality:"1080p",clipvnQuality:"5"},this.QUALITY_TYPES[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_FULLHD],this.QUALITY_TYPES[o.QL_HIGHEST]=Object.assign({},this.QUALITY_TYPES[o.QL_VIDEO_FULLHD]),this.QUALITY_TYPES[o.QL_HIGHEST].qualityIndex+=.01,this.QUALITY_TYPES[o.QL_VIDEO_HD]={quality:o.QL_HIGH,i18n_quality:Object(r.i18n)(n.v["720p"].i18n_label),qualityIndex:4,size:720,videoTitle:"HD",audioTitle:"High",zingTag:["720p","label720"],vimeoQuality:"720p",dailymotionQuality:["hd","720p"],facebookQuality:["hd_src","hd_src_no_ratelimit"],JWQuality:"highquality",clipvnQuality:"4"},this.QUALITY_TYPES[o.QL_VIDEO_STANDARD]={quality:o.QL_MEDIUM,i18n_quality:Object(r.i18n)(n.v["480p"].i18n_label),qualityIndex:3,size:480,videoTitle:"Standard",audioTitle:"Standard",zingTag:["480p"],dailymotionQuality:"480p",vimeoQuality:"480p",facebookQuality:["sd_src","sd_src_no_ratelimit"],JWQuality:"location",clipvnQuality:"3"},this.QUALITY_TYPES[o.QL_VIDEO_MEDIUM]={quality:o.QL_MEDIUM,i18n_quality:Object(r.i18n)(n.v["360p"].i18n_label),qualityIndex:2,size:360,videoTitle:"Medium",audioTitle:"Medium",vimeoQuality:"360p",dailymotionQuality:"380p",zingTag:["source","360p"],JWQuality:"lowquality",clipvnQuality:"2"},this.QUALITY_TYPES[o.QL_VIDEO_SMALL]={quality:o.QL_LOW,i18n_quality:Object(r.i18n)(n.v["270p"].i18n_label),qualityIndex:1,size:240,altSizes:[270],videoTitle:"Small",audioTitle:"Low",dailymotionQuality:"240p",vimeoQuality:"270p",zingTag:["f","f240"],clipvnQuality:"1"},this.QUALITY_TYPES[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL],this.QUALITY_TYPES[o.QL_VIDEO_MOBILE]={quality:o.QL_LOW,i18n_quality:Object(r.i18n)(n.v["144p"].i18n_label),qualityIndex:0,size:144,altSizes:[180],videoTitle:"Mobile",audioTitle:"Low",dailymotionQuality:"144p",vimeoQuality:"",clipvnQuality:"0"},this.PREFERRED_QUALITY_INDEX={},this.PREFERRED_QUALITY_INDEX[o.QL_HIGH]=this.QUALITY_TYPES[o.QL_VIDEO_ULTRAHD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_MEDIUM]=this.QUALITY_TYPES[o.QL_VIDEO_STANDARD].qualityIndex,this.PREFERRED_QUALITY_INDEX[o.QL_LOW]=this.QUALITY_TYPES[o.QL_VIDEO_SMALL].qualityIndex,this.DEFAULT_QUALITY_LEVEL=o.QL_HIGH,this.QUALITY_LEVELS=[o.QL_HIGH,o.QL_MEDIUM,o.QL_LOW],this.VIDEO_QUALITY_LEVELS=[o.QL_VIDEO_ULTRAHD,o.QL_VIDEO_FULLHD,o.QL_VIDEO_HD,o.QL_VIDEO_STANDARD,o.QL_VIDEO_MEDIUM,o.QL_VIDEO_SMALL,o.QL_VIDEO_MOBILE],this.DEFAULT_QUALITY_TYPE=o.QL_VIDEO_STANDARD}getFacebookQuality(t){var e;return null===(e=this._getVideoQuality("facebookQuality",t))||void 0===e?void 0:e.videoTitle}getDailymotionQuality(t){var e;return null===(e=this._getVideoQuality("dailymotionQuality",t))||void 0===e?void 0:e.videoTitle}getZingVideoQuality(t){var e;return null===(e=this._getVideoQuality("zingTag",t))||void 0===e?void 0:e.videoTitle}getZingAudioQuality(t){var e;return null===(e=this._getVideoQuality("zingTag",t))||void 0===e?void 0:e.audioTitle}getVimeoQuality(t){var e;return null===(e=this._getVideoQuality("vimeoQuality",t))||void 0===e?void 0:e.videoTitle}getClipvnQuality(t){var e;return null===(e=this._getVideoQuality("clipvnQuality",t))||void 0===e?void 0:e.videoTitle}getJWQuality(t){var e;return null===(e=this._getVideoQuality("JWQuality",t))||void 0===e?void 0:e.videoTitle}getQualityBySize(t){var e;return null===(e=this._getVideoQuality("size",t))||void 0===e?void 0:e.videoTitle}getSizeByQuality(t){return(this.QUALITY_TYPES[t]||{}).size||0}getI18nOfQuality(t){var e;return null===(e=this.QUALITY_TYPES[t])||void 0===e?void 0:e.i18n_quality}_getVideoQuality(t,e,i){for(var r in this.QUALITY_TYPES){var n=this.QUALITY_TYPES[r][t];if(Array.isArray(n)||(n=[n]),-1!==n.indexOf(e))return this.QUALITY_TYPES[r]}return i?null:this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_getTypeByQualityType(t){for(var e in this.QUALITY_TYPES)if(t===e||t===this.QUALITY_TYPES[e].videoTitle||t===this.QUALITY_TYPES[e].audioTitle)return this.QUALITY_TYPES[e];return this.QUALITY_TYPES[this.DEFAULT_QUALITY_TYPE]}_calculateWeight(t,e){var i,r=(null===(i=n.o[t.type])||void 0===i?void 0:i.extensions_weight)||[],o=r.indexOf(t.ext),a=this._getTypeByQualityType(t.quality||"").qualityIndex;return o/r.length+Math.abs(e-a)/7}getQualityLevelByType(t){return Object.keys(this.QUALITY_TYPES).indexOf(this._getTypeByQualityType(t).videoTitle)}getVideoQualityIndex(t){return this.VIDEO_QUALITY_LEVELS.concat().reverse().indexOf(t)}getOneClickQualityIndex(t){return this.QUALITY_LEVELS.concat().reverse().indexOf(t)}getQualityLevelByQualityType(t){return this._getTypeByQualityType(t).quality}getQualityIndexByVideoTitleQuality(t){return void 0!==this.QUALITY_TYPES[t]?this.QUALITY_TYPES[t].qualityIndex:this.getOneClickQualityIndex(t)}getQualityNameByResolution(t){var e=parseInt(t),i=Object.values(this.QUALITY_TYPES),r=i.find(t=>t.size===e||t.altSizes&&t.altSizes.includes(e));if(r)return r.videoTitle;var n=i.find(t=>t.size<e);return n?n.videoTitle:null}getQualityExtFromDowload(t){return(t.ext||"")+"/"+(t.quality||"")+"/"+(t.resolution||"")}chooseBestDownload(t,e,i){var r=t.length;if(i)for(var n=i.split("/").filter(t=>t).length>2,o=0;o<r;++o){var a=t[o],s=this.getQualityExtFromDowload(a);if(s===i)return a;if(n){var l=i.replace(/(.+)\/.+/,"$1");if(s.replace(/(.+)\/.+/,"$1")===l)return a}}e=e||this.DEFAULT_QUALITY_LEVEL;var c=t.filter(t=>"video"===t.type||"no_watermark_video"===t.type);c&&c.length||(c=t),r=c.length;for(var u=this.PREFERRED_QUALITY_INDEX[e],d=1e3,h=-1,_=0;_<r;++_){var p=c[_],v=this._calculateWeight(p,u);d>v&&(d=v,h=_)}return c[e.toLocaleLowerCase()===i?0:h]}}o.QL_HIGHEST="Highest",o.QL_HIGH="High",o.QL_MEDIUM="Medium",o.QL_LOW="Low",o.QL_VIDEO_ULTRAHD="Ultra HD",o.QL_VIDEO_FULLHD="Full HD",o.QL_VIDEO_HD="HD",o.QL_VIDEO_STANDARD="Standard",o.QL_VIDEO_MEDIUM="Medium",o.QL_VIDEO_SMALL="Small",o.QL_VIDEO_MOBILE="Mobile",e.b=new o},82:function(t,e,i){var r,n,o;!function(i){var a=/iPhone/i,s=/iPod/i,l=/iPad/i,c=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,d=/\bAndroid(?:.+)SD4930UR\b/i,h=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,_=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,f=/BB10/i,E=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i;function y(t,e){return t.test(e)}function O(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r={apple:{phone:y(a,e)&&!y(_,e),ipod:y(s,e),tablet:!y(a,e)&&y(l,e)&&!y(_,e),device:(y(a,e)||y(s,e)||y(l,e))&&!y(_,e)},amazon:{phone:y(d,e),tablet:!y(d,e)&&y(h,e),device:y(d,e)||y(h,e)},android:{phone:!y(_,e)&&y(d,e)||!y(_,e)&&y(c,e),tablet:!y(_,e)&&!y(d,e)&&!y(c,e)&&(y(h,e)||y(u,e)),device:!y(_,e)&&(y(d,e)||y(h,e)||y(c,e)||y(u,e))||y(/\bokhttp\b/i,e)},windows:{phone:y(_,e),tablet:y(p,e),device:y(_,e)||y(p,e)},other:{blackberry:y(v,e),blackberry10:y(f,e),opera:y(E,e),firefox:y(g,e),chrome:y(m,e),device:y(v,e)||y(f,e)||y(E,e)||y(g,e)||y(m,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&"undefined"==typeof window?t.exports=O:t.exports&&"undefined"!=typeof window?(t.exports=O(),t.exports.isMobile=O):(n=[],r=i.isMobile=O(),void 0===(o="function"==typeof r?r.apply(e,n):r)||(t.exports=o))}(this)},9:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i}});